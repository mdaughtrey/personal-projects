



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Q for Mortals">
      
      
        <link rel="canonical" href="../5_Dictionaries.1">
      
      
        <meta name="author" content="Jeffry Borror">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.2">
    
    
      
        <title>5. Dictionaries - Q for Mortals</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.8d40d89b.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="http://code.kx.com/stylesheets/prism.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="deep-orange">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="../5_Dictionaries.1#5-dictionaries" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://code.kx.com/q4m3" title="Q for Mortals" class="md-header-nav__button md-logo">
          
            <img src="../img/qfm3.jpg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Q for Mortals
              </span>
              <span class="md-header-nav__topic">
                5. Dictionaries
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../img/qfm3.jpg" width="48" height="48">
      
    </span>
    Q for Mortals
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../redirect/index.html" title="code.kx.com" class="md-nav__link">
      code.kx.com
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Contents" class="md-nav__link">
      Contents
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../preface/index.html" title="Preface" class="md-nav__link">
      Preface
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../0_Overview/index.html" title="0. Overview" class="md-nav__link">
      0. Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../1_Q_Shock_and_Awe.1" title="1. Q Shock and Awe" class="md-nav__link">
      1. Q Shock and Awe
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2_Basic_Data_Types_Atoms/index.html" title="2. Basic Data Types – Atoms" class="md-nav__link">
      2. Basic Data Types – Atoms
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../3_Lists.1" title="3. Lists" class="md-nav__link">
      3. Lists
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../4_Operators.1" title="4. Operators" class="md-nav__link">
      4. Operators
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        5. Dictionaries
      </label>
    
    <a href="../5_Dictionaries.1" title="5. Dictionaries" class="md-nav__link md-nav__link--active">
      5. Dictionaries
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="../5_Dictionaries.1#50-overview" title="5.0 Overview" class="md-nav__link">
    5.0 Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="../5_Dictionaries.1#51-dictionary-basics" title="5.1 Dictionary Basics" class="md-nav__link">
    5.1 Dictionary Basics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#511-definition" title="5.1.1 Definition" class="md-nav__link">
    5.1.1 Definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#512-empty-and-singleton-dictionaries" title="5.1.2 Empty and Singleton Dictionaries" class="md-nav__link">
    5.1.2 Empty and Singleton Dictionaries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#513-lookup" title="5.1.3 Lookup" class="md-nav__link">
    5.1.3 Lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#514-reverse-lookup-with-find" title="5.1.4 Reverse Lookup with Find ?" class="md-nav__link">
    5.1.4 Reverse Lookup with Find ?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#515-dictionary-vs-list" title="5.1.5 Dictionary vs. List" class="md-nav__link">
    5.1.5 Dictionary vs. List
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#516-non-unique-keys-and-values" title="5.1.6 Non-unique Keys and Values" class="md-nav__link">
    5.1.6 Non-unique Keys and Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#517-non-simple-keys-and-values" title="5.1.7 Non-simple Keys and Values" class="md-nav__link">
    5.1.7 Non-simple Keys and Values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../5_Dictionaries.1#52-operations-on-dictionaries" title="5.2 Operations on Dictionaries" class="md-nav__link">
    5.2 Operations on Dictionaries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#521-amend-and-upsert" title="5.2.1 Amend and Upsert" class="md-nav__link">
    5.2.1 Amend and Upsert
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#522-extracting-a-sub-dictionary" title="5.2.2 Extracting a Sub-Dictionary" class="md-nav__link">
    5.2.2 Extracting a Sub-Dictionary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#523-removing-entries" title="5.2.3 Removing Entries" class="md-nav__link">
    5.2.3 Removing Entries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#524-basic-operations-on-dictionaries" title="5.2.4 Basic Operations on Dictionaries" class="md-nav__link">
    5.2.4 Basic Operations on Dictionaries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#525-join" title="5.2.5 Join ," class="md-nav__link">
    5.2.5 Join ,
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#526-coalesce" title="5.2.6 Coalesce ^" class="md-nav__link">
    5.2.6 Coalesce ^
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#527-arithmetic-and-relational-operations" title="5.2.7 Arithmetic And Relational Operations" class="md-nav__link">
    5.2.7 Arithmetic And Relational Operations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../5_Dictionaries.1#53-column-dictionaries" title="5.3 Column Dictionaries" class="md-nav__link">
    5.3 Column Dictionaries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#531-definition-and-terminology" title="5.3.1 Definition and Terminology" class="md-nav__link">
    5.3.1 Definition and Terminology
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#532-simple-example" title="5.3.2 Simple Example" class="md-nav__link">
    5.3.2 Simple Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#533-general-case" title="5.3.3 General Case" class="md-nav__link">
    5.3.3 General Case
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#534-column-dictionary-with-a-single-column" title="5.3.4 Column Dictionary with a Single Column" class="md-nav__link">
    5.3.4 Column Dictionary with a Single Column
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../5_Dictionaries.1#54-flipping-a-column-dictionary" title="5.4 Flipping a Column Dictionary" class="md-nav__link">
    5.4 Flipping a Column Dictionary
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../6_Functions.1" title="6. Functions" class="md-nav__link">
      6. Functions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../7_Transforming_Data/index.html" title="7. Transforming Data" class="md-nav__link">
      7. Transforming Data
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../8_Tables.1" title="8. Tables" class="md-nav__link">
      8. Tables
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../9_Queries_q-sql.1" title="9. Queries – q-sql" class="md-nav__link">
      9. Queries – q-sql
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../10_Execution_Control/index.html" title="10. Execution Control" class="md-nav__link">
      10. Execution Control
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../11_IO.1" title="11. I/O" class="md-nav__link">
      11. I/O
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../12_Workspace_Organization.1" title="12. Workspace Organization" class="md-nav__link">
      12. Workspace Organization
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../13_Commands_and_System_Variables.1" title="13. Commands and System Variables" class="md-nav__link">
      13. Commands and System Variables
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../14_Introduction_to_Kdb+.1" title="14. Introduction to Kdb+" class="md-nav__link">
      14. Introduction to Kdb+
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../A_Built-in_Functions.1" title="Appendix A. Built-in Functions" class="md-nav__link">
      Appendix A. Built-in Functions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../B_Error_Messages/index.html" title="Appendix B. Error Messages" class="md-nav__link">
      Appendix B. Error Messages
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../colophon/index.html" title="Colophon" class="md-nav__link">
      Colophon
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="../5_Dictionaries.1#50-overview" title="5.0 Overview" class="md-nav__link">
    5.0 Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="../5_Dictionaries.1#51-dictionary-basics" title="5.1 Dictionary Basics" class="md-nav__link">
    5.1 Dictionary Basics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#511-definition" title="5.1.1 Definition" class="md-nav__link">
    5.1.1 Definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#512-empty-and-singleton-dictionaries" title="5.1.2 Empty and Singleton Dictionaries" class="md-nav__link">
    5.1.2 Empty and Singleton Dictionaries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#513-lookup" title="5.1.3 Lookup" class="md-nav__link">
    5.1.3 Lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#514-reverse-lookup-with-find" title="5.1.4 Reverse Lookup with Find ?" class="md-nav__link">
    5.1.4 Reverse Lookup with Find ?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#515-dictionary-vs-list" title="5.1.5 Dictionary vs. List" class="md-nav__link">
    5.1.5 Dictionary vs. List
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#516-non-unique-keys-and-values" title="5.1.6 Non-unique Keys and Values" class="md-nav__link">
    5.1.6 Non-unique Keys and Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#517-non-simple-keys-and-values" title="5.1.7 Non-simple Keys and Values" class="md-nav__link">
    5.1.7 Non-simple Keys and Values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../5_Dictionaries.1#52-operations-on-dictionaries" title="5.2 Operations on Dictionaries" class="md-nav__link">
    5.2 Operations on Dictionaries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#521-amend-and-upsert" title="5.2.1 Amend and Upsert" class="md-nav__link">
    5.2.1 Amend and Upsert
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#522-extracting-a-sub-dictionary" title="5.2.2 Extracting a Sub-Dictionary" class="md-nav__link">
    5.2.2 Extracting a Sub-Dictionary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#523-removing-entries" title="5.2.3 Removing Entries" class="md-nav__link">
    5.2.3 Removing Entries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#524-basic-operations-on-dictionaries" title="5.2.4 Basic Operations on Dictionaries" class="md-nav__link">
    5.2.4 Basic Operations on Dictionaries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#525-join" title="5.2.5 Join ," class="md-nav__link">
    5.2.5 Join ,
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#526-coalesce" title="5.2.6 Coalesce ^" class="md-nav__link">
    5.2.6 Coalesce ^
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#527-arithmetic-and-relational-operations" title="5.2.7 Arithmetic And Relational Operations" class="md-nav__link">
    5.2.7 Arithmetic And Relational Operations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../5_Dictionaries.1#53-column-dictionaries" title="5.3 Column Dictionaries" class="md-nav__link">
    5.3 Column Dictionaries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#531-definition-and-terminology" title="5.3.1 Definition and Terminology" class="md-nav__link">
    5.3.1 Definition and Terminology
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#532-simple-example" title="5.3.2 Simple Example" class="md-nav__link">
    5.3.2 Simple Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#533-general-case" title="5.3.3 General Case" class="md-nav__link">
    5.3.3 General Case
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../5_Dictionaries.1#534-column-dictionary-with-a-single-column" title="5.3.4 Column Dictionary with a Single Column" class="md-nav__link">
    5.3.4 Column Dictionary with a Single Column
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../5_Dictionaries.1#54-flipping-a-column-dictionary" title="5.4 Flipping a Column Dictionary" class="md-nav__link">
    5.4 Flipping a Column Dictionary
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="5-dictionaries">5. Dictionaries<a class="headerlink" href="../5_Dictionaries.1#5-dictionaries" title="Permanent link">&para;</a></h1>
<h2 id="50-overview">5.0 Overview<a class="headerlink" href="../5_Dictionaries.1#50-overview" title="Permanent link">&para;</a></h2>
<p>A dictionary is a mapping defined by an explicit association between a key list and value list. The two lists must have the same count and the key list should be a unique collection. While general lists can be used to create a dictionary, many dictionaries involve simple lists of keys.</p>
<h2 id="51-dictionary-basics">5.1 Dictionary Basics<a class="headerlink" href="../5_Dictionaries.1#51-dictionary-basics" title="Permanent link">&para;</a></h2>
<p>A dictionary is an association between a list of keys and a list of values. Logically it can also be considered as key-value pairs but it is stored physically as a pair of lists.</p>
<h3 id="511-definition">5.1.1 Definition<a class="headerlink" href="../5_Dictionaries.1#511-definition" title="Permanent link">&para;</a></h3>
<p>A <em>dictionary</em>, sometimes called an <em>association</em>, is a mapping defined by positional correspondence between a domain <strong>list</strong> of <em>keys</em> and a co-domain <strong>list</strong> of <em>values</em>. Dictionary creation uses the <code>!</code> operator – read "bang" – in contrast with the syntactic form for lists.</p>
<p><em>keys</em>!<em>values</em></p>
<p>All dictionaries have type 99h.</p>
<p>Observe that the q console displays a dictionary as an I/O table.</p>
<pre><code class="q">q)10 20 30!1.1 2.2 3.3
10| 1.1
20| 2.2
30| 3.3
q)`a`b`c!100 200 300
_
</code></pre>

<p>Neither the keys nor values need be simple lists but the keys should conform else odd things will happen during operations.</p>
<pre><code class="q">q)(`Arthur`Dent; `Zaphod`Beeblebrox; `Ford`Prefect)! 100 42 150
Arthur Dent      | 100
Zaphod Beeblebrox| 42
Ford Prefect     | 150
q)1001 1002 1003!(`Arthur`Dent; `Zaphod`Beeblebrox; `Ford`Prefect)
_
</code></pre>

<p>A dictionary can be decomposed into its key and value lists using the primitives <code>key</code> and <code>value</code>. The common number of keys or values is returned by <code>count</code>.</p>
<pre><code class="q">q)d:`a`b`c!100 200 300
q)key d
_
q)value d
_
q)count d
_
</code></pre>

<p>Although q does not enforce uniqueness for keys (a historical accident) a dictionary does provide a unique output value for each input value. Indeed, only the first key occurrence is seen during lookup.</p>
<div class="admonition advanced">
<p class="admonition-title">Advanced</p>
<p>When you know that the keys are unique you can apply the <code>`u#</code> attribute to the keys. This will effectively cause the dictionary to be a hash table with the attendant improvement in lookup speed over the default linear lookup.
<pre><code class="language-q">
q)(`u#`a`b`c)!10 20 30
_
</code></pre></p>
</div>
<p>The order of the items in the key and value lists is significant, just as positional order is significant for lists. Although the I/O assignments and the associated mappings are equivalent regardless of order, differently ordered dictionaries are <strong>not</strong> identical.</p>
<pre><code class="q">q)(`a`b`c!10 20 30)~`a`c`b!10 30 20
0b
</code></pre>

<h3 id="512-empty-and-singleton-dictionaries">5.1.2 Empty and Singleton Dictionaries<a class="headerlink" href="../5_Dictionaries.1#512-empty-and-singleton-dictionaries" title="Permanent link">&para;</a></h3>
<p>You can create a general empty dictionary using empty key and value lists.</p>
<pre><code class="q">q)()!()
_
</code></pre>

<p>You can create a typed empty dictionary using typed empty key and value lists.</p>
<pre><code class="q">q)(`symbol$())!`float$()
_
</code></pre>

<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Because both the keys and values are required to be lists, you must enlist atoms for a singleton dictionary.
<pre><code class="language-q">
q)(enlist `x)!enlist 42
x| 42
</code></pre></p>
</div>
<p>The following is <strong>not</strong> a singleton dictionary. This is a common mistake of qbies.</p>
<pre><code class="q">q)`x!42
`x!42i
</code></pre>

<p>For those who care, it is actually an enumerated value for a link column.</p>
<h3 id="513-lookup">5.1.3 Lookup<a class="headerlink" href="../5_Dictionaries.1#513-lookup" title="Permanent link">&para;</a></h3>
<p>To find the output value corresponding to an input key, we <em>look up</em> the key. Lookup uses the same notation as indexing into a list: brackets or juxtaposition.</p>
<pre><code class="q">q)d:`a`b`c!10 20 30
q)d[`a]
10
q)d `b
_
</code></pre>

<p>Similar to list indexing, lookup of a value not in the key list of a dictionary results in a null whose type is that of the initial item in the value list.</p>
<pre><code class="q">q)d[`x]
_
</code></pre>

<p>As with lists, key lookup in a dictionary is extended item-wise to a simple list of keys.</p>
<pre><code class="q">q)d[`a`c]
_
q)ks:`a`c
q)d ks
_
</code></pre>

<h3 id="514-reverse-lookup-with-find">5.1.4 Reverse Lookup with Find <code>?</code><a class="headerlink" href="../5_Dictionaries.1#514-reverse-lookup-with-find" title="Permanent link">&para;</a></h3>
<p>Recall that the <em>find</em> operator <code>?</code> on a list returns the index of the first occurrence of the right operand.</p>
<pre><code class="q">q)10 20 30 10 40?10
0
</code></pre>

<p>Essentially it inverts the positional retrieval mapping. Extending this concept to dictionaries means reversing the key-to-value mapping of lookup. That is, <code>?</code> on a dictionary performs reverse lookup by mapping a value item to the first key associated to it.</p>
<pre><code class="q">q)d:`a`b`c`a!10 20 30 10
q)d?10
`a
</code></pre>

<p>The result of <em>find</em> on an argument not in the value list is a null whose type matches the initial item in the key list.</p>
<pre><code class="q">q)d:`a`b`c`a!10 20 30 10
q)d?40
`
</code></pre>

<h3 id="515-dictionary-vs-list">5.1.5 Dictionary vs. List<a class="headerlink" href="../5_Dictionaries.1#515-dictionary-vs-list" title="Permanent link">&para;</a></h3>
<p>It is possible to create a dictionary that seemingly behaves very much like an equivalent list by making the positional retrieval explicit.</p>
<pre><code class="q">q)L:10 20 30
q)d:0 1 2!10 20 30
q)L 0
10
q)d 0
10
q)L 1 2
20 30
q)d 1 2
20 30
d~L
_
</code></pre>

<p>The two are not the same. A major difference is that dictionaries can be extended via assignment and a list cannot.</p>
<div class="admonition advanced">
<p class="admonition-title">Advanced</p>
<p>This dictionary version of lists provides a compact and efficient representation of sparse lists.
<pre><code class="language-q">
q)d1:0 100 500000!10 20 30
q)d2:0 99 1000000!100 200 300
q)d1+d2
0      | 110
100    | 20
500000 | 30
99     | 200
1000000| 300
</code></pre>
The implementation is left as an exercise for the reader.</p>
</div>
<h3 id="516-non-unique-keys-and-values">5.1.6 Non-unique Keys and Values<a class="headerlink" href="../5_Dictionaries.1#516-non-unique-keys-and-values" title="Permanent link">&para;</a></h3>
<p>As mentioned previously, non-unique keys are tolerated but lookup only sees the first occurrence.</p>
<pre><code class="q">q)ddup:`a`b`a`c!10 20 30 20
q)ddup[`a]
10
</code></pre>

<p>Reverse lookup works properly for non-unique keys but will only see the first non-unique value.</p>
<pre><code class="q">q)ddup?30
`a
q)ddup?20
`b
</code></pre>

<p>You can find all keys mapping to a given value as follows.</p>
<pre><code class="q">q)where 10=d
`a`d
</code></pre>

<h3 id="517-non-simple-keys-and-values">5.1.7 Non-simple Keys and Values<a class="headerlink" href="../5_Dictionaries.1#517-non-simple-keys-and-values" title="Permanent link">&para;</a></h3>
<p>Neither the key nor value lists of a dictionary are required to be atoms or uniform. Either can be nested lists.</p>
<pre><code class="q">q)d:(`a`b; `c`d`e; enlist `f)!10 20 30
q)d `f
30
q)d?20
`c`d`e
q)d:`a`b`c!(10 20; 30 40 50; enlist 60)
q)d `b
30 40 50
q)d?30 40 50
`b
q)d?enlist 60
_
</code></pre>

<p>Be forewarned that an irregular key or value list – i.e., items do not conform – will confound lookup or reverse lookup, respectively.</p>
<pre><code class="q">q)dwhackey:(1 2; 3 4 5; 6; 7 8)!10 20 30 40 / atom 6 is whack
q)dwhackey 1 2
10
q)dwhackey 6
0N
q)dwhackval:10 20 30 40!(1 2; 3 4 5; 6; 7 8) / atom 6 is whack
q)dwhackval?3 4 5
20
q)dwhackval?6
_
</code></pre>

<p>The observed behavior is that lookup in either direction fails at the first item of different shape.</p>
<h2 id="52-operations-on-dictionaries">5.2 Operations on Dictionaries<a class="headerlink" href="../5_Dictionaries.1#52-operations-on-dictionaries" title="Permanent link">&para;</a></h2>
<h3 id="521-amend-and-upsert">5.2.1 Amend and Upsert<a class="headerlink" href="../5_Dictionaries.1#521-amend-and-upsert" title="Permanent link">&para;</a></h3>
<p>As with lists, the items of a dictionary can be modified via assignment to a key.</p>
<pre><code class="q">q)d:`a`b`c!10 20 30
q)d[`b]:42
q)d
_
</code></pre>

<p>In contrast to lists, dictionaries <strong>can</strong> be extended via assignment.</p>
<pre><code class="q">q)d:`a`b`c!10 20 30
q)d[`x]:42
q)d
_
</code></pre>

<p>Let's examine more closely this capability to modify or extend a dictionary via key-value assignment. Given a dictionary <code>d</code>, a value <code>k</code> that matches the type of the keys of <code>d</code> and a value <code>v</code> that matches the type of the values of <code>d</code>, consider the assignment</p>
<pre><code class="q">d[k]:v
</code></pre>

<p>It updates the existing key-value association when <code>k</code> is in key <code>d</code>, or inserts (appends) a new key-value association when <code>k</code> is not in key <code>d</code>.</p>
<pre><code class="q">q)d:`a`b`c!10 20 30
q)d[`b]:42 / update
q)d[`x]:100 / insert
q)d
_
</code></pre>

<p>This update/insert behavior is called <em>upsert</em> semantics. Because tables and keyed tables are dictionaries, upsert semantics pervade kdb+.</p>
<h3 id="522-extracting-a-sub-dictionary">5.2.2 Extracting a Sub-Dictionary<a class="headerlink" href="../5_Dictionaries.1#522-extracting-a-sub-dictionary" title="Permanent link">&para;</a></h3>
<p>Dictionary lookup on a key or a list of keys returns the associated values. It is possible to extract both keys and values using an overload of the <em>take</em> operator <code>#</code>. The left operand is a <strong>list</strong> of keys, the right operand is the <em>source</em> dictionary and the result is a sub-dictionary for the specified keys. Viewed as a mapping, the result is the original restricted to the specified keys.</p>
<pre><code class="q">q)d:`a`b`c!10 20 30
q)d `a`c
_
q)`a`c#d
a| 10
c| 30
q)(enlist `c)#d
_
</code></pre>

<p>In the event of duplicate keys, only the first is extracted.</p>
<pre><code class="q">q)ddup:`a`b`a`c!10 20 30 20
q)`a`c#ddup
a| 10
c| 20
</code></pre>

<p>This operation works with non-simple keys.</p>
<pre><code class="q">q)dns:(`arthur`dent; `ford`prefect; `zaphod`beebelbrox)!100 150 42
q)(`arthur`dent; `zaphod`beebelbrox)#dns
arthur dent      | 100
zaphod beebelbrox| 42
</code></pre>

<h3 id="523-removing-entries">5.2.3 Removing Entries<a class="headerlink" href="../5_Dictionaries.1#523-removing-entries" title="Permanent link">&para;</a></h3>
<p>The adjoint operation to <code>#</code> is <code>_</code>, which removes key-value pairs. Its syntax is the same – i.e., a list of keys as the left operand and a dictionary on the right – and it returns the dictionary obtained by removing the key-value pairs for the specified keys.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Whitespace is required to the left of <code>_</code> if the left operand is a variable since <code>_</code> is a valid terminal name character.
<pre><code class="language-q">
q)d:`a`b`c!10 20 30
q)`a`c _ d
b| 20
q)(enlist `b) _ d
_
</code></pre></p>
</div>
<p>Observe that all occurrences of a key are removed and that attempting to remove a key that does not exist has no effect.</p>
<pre><code class="q">q)d:`a`b`c`a!10 20 30 40
q
q)`a`c _ d
_
q)`x`a _ d
_
</code></pre>

<p>Removing all the entries in a dictionary leaves a dictionary with empty key and value lists of the appropriate types. The console will not display the empty dictionary but you can force the display with <code>-3!</code>. In this case we get typed empty lists.</p>
<pre><code class="q">q)d:`a`b`c!10 20 30
q)`a`b`c _ d
q)-3!`a`b`c _ d
&quot;(`symbol$())!`long$()&quot;
</code></pre>

<p>The binary operator <code>cut</code> is the same as this overload of <code>_</code> on a dictionary.</p>
<pre><code class="q">q)`a`c cut d
_
</code></pre>

<p>There is another overload of <code>_</code> with a dictionary on the left and a <strong>single</strong> key on the right that deletes just that key, which is seldom used.</p>
<pre><code class="q">q)d _ `b
a| 10
c| 30
</code></pre>

<h3 id="524-basic-operations-on-dictionaries">5.2.4 Basic Operations on Dictionaries<a class="headerlink" href="../5_Dictionaries.1#524-basic-operations-on-dictionaries" title="Permanent link">&para;</a></h3>
<p>Because a dictionary is a map, it can be composed with another map to obtain a dictionary whose key-value association is the composite of the original and the new map. Another way to say this is that applying a function to a dictionary effectively applies it to the value list. Monadic functions are straightforward.</p>
<pre><code>d:`a`b`c!10 20 30 composed with neg
`a      |-&gt;  10    |-&gt;     -10
`b      |-&gt;  20    |-&gt;     -20
`c      |-&gt;  30    |-&gt;     -30
</code></pre>

<pre><code class="q">q)d:`a`b`c!10 20 30
q)neg d
a| -10
b| -20
c| -30
</code></pre>

<p>And similarly for other monadic maps.</p>
<pre><code class="q">q)2*d
_
q)d=20
_
q)f:{x*x}
q)f d
_
</code></pre>

<p>When the domains of two dictionary maps are identical, performing a dyadic operation is also straightforward: do it value-with-value along the keys. For example, to add two dictionaries with a common list of keys, add their corresponding values.</p>
<pre><code class="q">q)d1:`a`b`c!1 2 3
q)d2:`a`b`c!10 20 30
q)d1+d2
_
</code></pre>

<p>What should happen when the domains lists are not identical? First, the domain of the resulting dictionary is the union of the domains – i.e., the union of the key lists. For items in the common domain – i.e., the intersection of the keys lists, we already know we should apply the operation value-with-value.</p>
<p>So the question becomes: what to do on non-common key items? The answer: Nothing! Since there really isn't anything to do where there is no matching key on the other side, simply carry the value to the result. In essence, this implies using the identity element for the operation in place of the missing value.</p>
<pre><code class="q">q)d1:`a`b`c!1 2 3
q)d2:`b`c`d!20 30 40
q)d1+d2
a| 1
b| 22
c| 33
d| 40
</code></pre>

<h3 id="525-join">5.2.5 Join <code>,</code><a class="headerlink" href="../5_Dictionaries.1#525-join" title="Permanent link">&para;</a></h3>
<p>The <em>join</em> operator <code>,</code> merges two dictionaries. Clearly on disjoint keys the corresponding values should be carried over.</p>
<pre><code class="q">q)d1:`a`b`c!10 20 30
q)d2:`x`y!40 50
q)d1,d2
a| 10
b| 20
c| 30
x| 40
y| 50
</code></pre>

<p>On common keys, since q is right-to-left, the value of the right operand prevails over that of the left.</p>
<pre><code class="q">q)d1:`a`b`c!10 20 30
q)d2:`a`b`c!100 200 300
q)d1,d2
a| 100
b| 200
c| 300
</code></pre>

<p>Lo and behold, the entire right operand has been upserted into the left operand.</p>
<pre><code class="q">q)d1:`a`b`c!10 20 30
q)d2:`c`d!300 400
q)d1,d2
a| 10
b| 20
c| 300
d| 400
</code></pre>

<p>This is equivalent to each key-value association being upserted into the left</p>
<pre><code class="q">q)d1:`a`b`c!10 20 30
q)d1[`c]:300
q)d1[`d]:400
q)d1
_
</code></pre>

<p>Observe that <em>join</em> is not commutative: order matters.</p>
<pre><code class="q">q)d1:`a`b`c!10 20 30
q)d2:`c`d!300 400
q)d1,d2
_
q)d2,d1
_
</code></pre>

<h3 id="526-coalesce">5.2.6 Coalesce <code>^</code><a class="headerlink" href="../5_Dictionaries.1#526-coalesce" title="Permanent link">&para;</a></h3>
<p>The <em>coalesce</em> operator is related to <code>,</code> in that it employs upsert semantics to merge two dictionaries. The difference is that right values prevail over left except for nulls in the right.</p>
<pre><code class="q">q)d1:`a`b`c!10 0N 30
q)d2:`b`c`d!200 0N 400
q)d1^d2
a| 10
b| 200
c| 30
d| 400
</code></pre>

<h3 id="527-arithmetic-and-relational-operations">5.2.7 Arithmetic And Relational Operations<a class="headerlink" href="../5_Dictionaries.1#527-arithmetic-and-relational-operations" title="Permanent link">&para;</a></h3>
<p>Following the general pattern, when an arithmetic operation is performed on dictionaries, the operation is performed on the common domain elements and the identity element implied elsewhere. Of course the value lists must have proper types for the operation.</p>
<pre><code class="q">q)d1:`a`b`c!10 20 30
q)d2:`b`c`d!200 300 400
q)d1+d2
a| 10
b| 220
c| 330
d| 400
</code></pre>

<p>For equality and comparison operations on dictionaries, the indicated operation is performed over the common keys. On disjoint keys, the appropriate null is effectively substituted for missing values. Due to all nulls being equal, a null value on a disjoint key will report <code>1b</code> under equality test.</p>
<pre><code class="q">q)(`a`b`c!10 20 30)=`b`c`d!20 300 400
a| 0
b| 1
c| 0
d| 0
q)(`a`b`c!0N 20 30)=`b`c`d!20 300 0N
a| 1
b| 1
c| 0
d| 1
q)(`a`b`c!10 20 30)&lt;`b`c`d!20 300 400
a| 0
b| 0
c| 1
d| 1
</code></pre>

<h2 id="53-column-dictionaries">5.3 Column Dictionaries<a class="headerlink" href="../5_Dictionaries.1#53-column-dictionaries" title="Permanent link">&para;</a></h2>
<p>Column dictionaries are the foundation for tables.</p>
<h3 id="531-definition-and-terminology">5.3.1 Definition and Terminology<a class="headerlink" href="../5_Dictionaries.1#531-definition-and-terminology" title="Permanent link">&para;</a></h3>
<p>A very useful type of dictionary maps a simple list of symbols to a rectangular list of lists.</p>
<pre><code class="q">q)`c1`c2!(`a`b`c; 10 20 30)
c1| a b c
c2| 10 20 30
</code></pre>

<p>Interpreting each symbol as a name and the corresponding list as a vector of column values, we call such a list a <em>column dictionary</em>. A general column dictionary has the form,</p>
<p><em>c<sub>1</sub></em>...<em>c<sub>n</sub></em>!(<em>v<sub>1</sub></em>;...;<em>v<sub>n</sub></em>)</p>
<p>where each <em>c<sub>i</sub></em> is a symbol and the <em>v<sub>i</sub></em> are lists with common length (count). Such a dictionary associates the name <em>c<sub>i</sub></em> with the value list <em>v<sub>i</sub></em>.</p>
<p>The <em>type</em> of the column named by <em>c<sub>i</sub></em> is the type of its associated value list <em>v<sub>i</sub></em>. Often the <em>v<sub>i</sub></em> are all simple lists – i.e., each column is a vector of atoms of uniform type.</p>
<h3 id="532-simple-example">5.3.2 Simple Example<a class="headerlink" href="../5_Dictionaries.1#532-simple-example" title="Permanent link">&para;</a></h3>
<p>Let's make a column dictionary that holds the names of famous galactic travelers and their IQ scores.</p>
<pre><code class="q">q)travelers:`name`iq!(`Dent`Beeblebrox`Prefect;42 98 126)
q)travelers
name| Dent Beeblebrox Prefect
iq  | 42   98         126
</code></pre>

<p>In this dictionary, the values for the <em>name</em> column are,</p>
<pre><code class="q">q)travelers[`name]
`Dent`Beeblebrox`Prefect
</code></pre>

<p>Since this column is a list, we can index into it.</p>
<pre><code class="q">q)travelers[`name][1]
`Beeblebrox
q)travelers[`iq][2]
126
</code></pre>

<p>In general, whenever we encounter repeated indexing in q we can alternately write it as indexing at depth.</p>
<pre><code class="q">q)travelers[`name; 1]
`Beeblebrox
q)travelers[`iq; 2]
126
</code></pre>

<p>Thus travelers can be considered a two-dimensional entity indexed by name in the first slot.</p>
<h3 id="533-general-case">5.3.3 General Case<a class="headerlink" href="../5_Dictionaries.1#533-general-case" title="Permanent link">&para;</a></h3>
<p>For a general column dictionary defined as,</p>
<p><em>dc:c<sub>1</sub>...c<sub>n</sub>!(v<sub>1</sub>;...;v<sub>n</sub>)</em></p>
<p>the <em>i<sup>th</sup></em> element of column <em>c<sub>j</sub></em> is retrieved by,</p>
<p><em>dc</em>[<em>c<sub>j</sub></em>][i]</p>
<p>Or equivalently,</p>
<p><em>dc</em>[<em>c<sub>j</sub></em>;i]</p>
<p>The indexing-at-depth notation suggests thinking of the column dictionary as a two-dimensional data structure, indexed by column name and column position. Alternatively, it is a positional map of two variables with symbolic name in the first parameter and column index in the second.</p>
<p>Specifying just an index in the second column is interesting. It essentially retrieves a 'slice' of the original dictionary across that index. This slice is itself a dictionary. In our simple example of the previous section,</p>
<pre><code class="q">q)travelers[; 2]
name| `Prefect
iq  | 126
</code></pre>

<p>Let's summarize.</p>
<ul>
<li>A column dictionary can be viewed as a two-dimensional entity with retrieval by name in the first dimension and by position within column in the second.</li>
<li>Specifying only a name retrieves the corresponding column, which can then be indexed by position.</li>
<li>Specifying only a column index retrieves a slice dictionary that maps the names to the associated values across that column index.</li>
</ul>
<p>This data structure has potential but there is a hitch: the indexing is backwards. That is, columns are retrieved in the first slot. Normally in two-dimensional data structures, columns are retrieved in the second slot. We shall see shortly how to fix this.</p>
<h3 id="534-column-dictionary-with-a-single-column">5.3.4 Column Dictionary with a Single Column<a class="headerlink" href="../5_Dictionaries.1#534-column-dictionary-with-a-single-column" title="Permanent link">&para;</a></h3>
<p>Recall that every dictionary is constructed from a <strong>list</strong> of keys and a <strong>list</strong> of values. A column dictionary is further required to have a rectangular list of values – i.e., a list of lists of the same length.</p>
<p>Thus in order to make a column dictionary with a single column, we need to enlist the single key and enlist the single column list.</p>
<pre><code class="q">q)dc1:(enlist `c)!enlist 10 20 30
q)dc1
c| 10 20 30
</code></pre>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>As noted previously, the following isn't even a valid dictionary, let alone a column dictionary.
<pre><code class="language-q">
q)`c!1 2 3
_
</code></pre></p>
</div>
<h2 id="54-flipping-a-column-dictionary">5.4 Flipping a Column Dictionary<a class="headerlink" href="../5_Dictionaries.1#54-flipping-a-column-dictionary" title="Permanent link">&para;</a></h2>
<p>No, this isn't what you do to a dictionary that cuts you off in traffic. Recall that a rectangular nested list can be transposed with the <code>flip</code> operator.</p>
<pre><code class="q">q)L:(10 20 30; 100 200 300)
q)L
10 20 30
100 200 300
q)flip L
10 100
20 200
30 300
</code></pre>

<p>A side effect of transposing the nested list data is that it reverses the slots for indexing at depth.</p>
<pre><code class="q">q)L:(10 20 30; 100 200 300)
q)M:flip L
q)L[0;0]
10
q)L[0;1]
20
q)L[0;2]
30
q)M[0;0]
10
q)M[1;0]
20
q)M[2;0]
30
</code></pre>

<p>Recall that applying <code>flip</code> to a nested list creates a copy of the original list in which the data has been reorganized. When a column dictionary is considered as a two-dimensional entity it is rectangular, since its column lists all have the same count. The console display shows this.</p>
<pre><code class="q">q)`c1`c2!(`a`b`c; 10 20 30)
c1| a b c
c2| 10 20 30
</code></pre>

<p>Thus it makes sense to transpose this rectangular data structure. Observe that the console display is exactly transposed.</p>
<pre><code class="q">q)dc:`c1`c2!(`a`b`c; 10 20 30)
q)dc
c1| a b c
c2| 10 20 30
q)t:flip dc
q)t
c1 c2
-----
a 10
b 20
c 30
</code></pre>

<p>We expect the transposed entity to have the slots reversed for indexing at depth.</p>
<pre><code class="q">q)dc[`c1; 0]
`a
q)dc[`c1; 1]
`b
q)dc[`c1; 2]
`c
q)t[0; `c1]
`a
q)t[1; `c1]
`b
q)t[2; `c1]
`c
</code></pre>

<p><em>Voilà!</em> We have fixed the indexing issue with our column dictionaries. Columns are now indexed in the second parameter. Let's translate the other aspects of the column dictionary retrieval into the transposed setting.</p>
<pre><code class="q">q)dc[`c1;]
`a`b`c
q)t[;`c1]
`a`b`c
q)dc[; 0]
c1| `a
c2| 10
q)t[0;]
c1| `a
c2| 10
q)dc[`c2; 1]
20
q)t[1; `c2]
20
</code></pre>

<p>For the moment, forget the origin of <code>t</code> as a transposed column dictionary and examine it in isolation.</p>
<pre><code class="q">q)t[;`c1]
`a`b`c
q)t[0;]
c1| `a
c2| 10
q)t[1; `c2]
20
</code></pre>

<p>Let's look more closely at the section dictionaries that are now indexed in the first slot. Recall that we are permitted (although not encouraged) to omit trailing semi-colons for elided indices.</p>
<pre><code class="q">q)t[0]
c1| `a
c2| 10
q)t[1]
c1| `b
c2| 20
q)t[2]
c1| `c
c2| 30
</code></pre>

<p>If you were to meet such a beast out of context, you would say that it is a list of these funky section dictionaries.</p>
<p>We summarize our findings about the transpose of a column dictionary,</p>
<ul>
<li>It is a two-dimensional data structure that uses an integer index in the first slot and a column name symbol in the second slot.</li>
<li>Specifying only an integer in the first slot retrieves a section dictionary across that index</li>
<li>Specifying only a column name in the second slot retrieves that column.</li>
<li>Specifying both an integer and a column name retrieves the "field" at that index in that column.</li>
<li>It can be viewed as a list of section dictionaries.</li>
</ul>
<p>We make two more observations about transposed column dictionaries. In general, if you transpose something twice, you get back the original.</p>
<pre><code class="q">q)dc~flip flip dc
1b
q)dc~flip t
1b
</code></pre>

<p>We restate this as:</p>
<ul>
<li>The flip of a transposed column dictionary is a (the original!) column dictionary</li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Unlike the case of transposing rectangular lists, transposing a column dictionary does not physically re-arrange data.</p>
</div>
<p>A transposed column dictionary is stored in column order.</p>
<p>Instead, the result is a logical adjustment – meaning that the slots in indexing at depth are reversed.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../4_Operators.1" title="4. Operators" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                4. Operators
              </span>
            </div>
          </a>
        
        
          <a href="../6_Functions.1" title="6. Functions" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                6. Functions
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            ©2015 Jeffry A. Borror / q4m LLC. Kx® and kdb+ are registered trademarks of Kx Systems, Inc., a subsidiary of First Derivatives plc.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.b438e6c5.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:".."}})</script>
      
        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
      
        <script src="https://tracker.mrpfd.com/tracker.js"></script>
      
        <script src="http://code.kx.com/scripts/googleanalytics.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="https://use.fontawesome.com/3dbf29ed12.js"></script>
      
        <script src="http://code.kx.com/scripts/prism.js"></script>
      
    
    
      
    
  </body>
</html>