



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Q for Mortals">
      
      
        <link rel="canonical" href="../8_Tables.1">
      
      
        <meta name="author" content="Jeffry Borror">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.2">
    
    
      
        <title>8. Tables - Q for Mortals</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.8d40d89b.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="http://code.kx.com/stylesheets/prism.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="deep-orange">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="../8_Tables.1#8-tables" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://code.kx.com/q4m3" title="Q for Mortals" class="md-header-nav__button md-logo">
          
            <img src="../img/qfm3.jpg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Q for Mortals
              </span>
              <span class="md-header-nav__topic">
                8. Tables
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../img/qfm3.jpg" width="48" height="48">
      
    </span>
    Q for Mortals
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../redirect/index.html" title="code.kx.com" class="md-nav__link">
      code.kx.com
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Contents" class="md-nav__link">
      Contents
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../preface/index.html" title="Preface" class="md-nav__link">
      Preface
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../0_Overview/index.html" title="0. Overview" class="md-nav__link">
      0. Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../1_Q_Shock_and_Awe.1" title="1. Q Shock and Awe" class="md-nav__link">
      1. Q Shock and Awe
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2_Basic_Data_Types_Atoms/index.html" title="2. Basic Data Types – Atoms" class="md-nav__link">
      2. Basic Data Types – Atoms
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../3_Lists.1" title="3. Lists" class="md-nav__link">
      3. Lists
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../4_Operators.1" title="4. Operators" class="md-nav__link">
      4. Operators
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../5_Dictionaries.1" title="5. Dictionaries" class="md-nav__link">
      5. Dictionaries
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../6_Functions.1" title="6. Functions" class="md-nav__link">
      6. Functions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../7_Transforming_Data/index.html" title="7. Transforming Data" class="md-nav__link">
      7. Transforming Data
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        8. Tables
      </label>
    
    <a href="../8_Tables.1" title="8. Tables" class="md-nav__link md-nav__link--active">
      8. Tables
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#80-overview" title="8.0 Overview" class="md-nav__link">
    8.0 Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#81-table-definition" title="8.1 Table Definition" class="md-nav__link">
    8.1 Table Definition
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#811-review-of-table-as-column-dictionary" title="8.1.1 Review of Table as Column Dictionary" class="md-nav__link">
    8.1.1 Review of Table as Column Dictionary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#812-table-display" title="8.1.2 Table Display" class="md-nav__link">
    8.1.2 Table Display
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#813-table-definition-syntax" title="8.1.3 Table-Definition Syntax" class="md-nav__link">
    8.1.3 Table-Definition Syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#814-table-metadata" title="8.1.4 Table Metadata" class="md-nav__link">
    8.1.4 Table Metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#815-records" title="8.1.5 Records" class="md-nav__link">
    8.1.5 Records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#816-flipped-column-dictionary-vs-list-of-records" title="8.1.6 Flipped Column Dictionary vs. List of Records" class="md-nav__link">
    8.1.6 Flipped Column Dictionary vs. List of Records
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#82-empty-tables-and-schema" title="8.2 Empty Tables and Schema" class="md-nav__link">
    8.2 Empty Tables and Schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#83-basic-select-and-update" title="8.3 Basic select and update" class="md-nav__link">
    8.3 Basic select and update
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#831-syntax-of-select" title="8.3.1 Syntax of select" class="md-nav__link">
    8.3.1 Syntax of select
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#832-displaying-the-result" title="8.3.2 Displaying the Result" class="md-nav__link">
    8.3.2 Displaying the Result
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#833-selecting-columns" title="8.3.3 Selecting Columns" class="md-nav__link">
    8.3.3 Selecting Columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#834-basic-update" title="8.3.4 Basic update" class="md-nav__link">
    8.3.4 Basic update
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#84-primary-keys-and-keyed-tables" title="8.4 Primary Keys and Keyed Tables" class="md-nav__link">
    8.4 Primary Keys and Keyed Tables
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#841-keyed-table" title="8.4.1 Keyed Table" class="md-nav__link">
    8.4.1 Keyed Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#842-simple-example" title="8.4.2 Simple Example" class="md-nav__link">
    8.4.2 Simple Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#843-keyed-table-definition-syntax" title="8.4.3 Keyed-Table Definition Syntax" class="md-nav__link">
    8.4.3 Keyed-Table Definition Syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#844-accessing-records-of-a-keyed-table" title="8.4.4 Accessing Records of a Keyed Table" class="md-nav__link">
    8.4.4 Accessing Records of a Keyed Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#845-retrieving-multiple-records" title="8.4.5 Retrieving Multiple Records" class="md-nav__link">
    8.4.5 Retrieving Multiple Records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#846-reverse-lookup" title="8.4.6 Reverse Lookup" class="md-nav__link">
    8.4.6 Reverse Lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#847-components-of-a-keyed-table" title="8.4.7 Components of a Keyed Table" class="md-nav__link">
    8.4.7 Components of a Keyed Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#848-tables-vs-keyed-tables" title="8.4.8 Tables vs. Keyed Tables" class="md-nav__link">
    8.4.8 Tables vs. Keyed Tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#849-compound-primary-key" title="8.4.9 Compound Primary Key" class="md-nav__link">
    8.4.9 Compound Primary Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#8410-retrieving-records-with-a-compound-primary-key" title="8.4.10 Retrieving Records with a Compound Primary Key" class="md-nav__link">
    8.4.10 Retrieving Records with a Compound Primary Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#8411-extracting-column-data" title="8.4.11 Extracting Column Data" class="md-nav__link">
    8.4.11 Extracting Column Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#85-foreign-keys-and-virtual-columns" title="8.5 Foreign Keys and Virtual Columns" class="md-nav__link">
    8.5 Foreign Keys and Virtual Columns
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#851-definition-of-foreign-key" title="8.5.1 Definition of Foreign Key" class="md-nav__link">
    8.5.1 Definition of Foreign Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#852-example-of-simple-foreign-key" title="8.5.2 Example of Simple Foreign Key" class="md-nav__link">
    8.5.2 Example of Simple Foreign Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#853-resolving-a-foreign-key" title="8.5.3 Resolving a Foreign Key" class="md-nav__link">
    8.5.3 Resolving a Foreign Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#854-foreign-keys-and-relations" title="8.5.4 Foreign Keys and Relations" class="md-nav__link">
    8.5.4 Foreign Keys and Relations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#86-working-with-tables-and-keyed-tables" title="8.6 Working with Tables and Keyed Tables" class="md-nav__link">
    8.6 Working with Tables and Keyed Tables
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#861-appending-records" title="8.6.1 Appending Records" class="md-nav__link">
    8.6.1 Appending Records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#862-first-and-last-records" title="8.6.2 First and Last Records" class="md-nav__link">
    8.6.2 First and Last Records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#863-find" title="8.6.3 Find" class="md-nav__link">
    8.6.3 Find
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#864-union-with" title="8.6.4 Union with ," class="md-nav__link">
    8.6.4 Union with ,
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#865-coalesce" title="8.6.5 Coalesce ^" class="md-nav__link">
    8.6.5 Coalesce ^
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#866-column-join" title="8.6.6 Column Join" class="md-nav__link">
    8.6.6 Column Join
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#87-complex-column-data" title="8.7 Complex Column Data" class="md-nav__link">
    8.7 Complex Column Data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#871-simple-example" title="8.7.1 Simple Example" class="md-nav__link">
    8.7.1 Simple Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#872-operations-on-compound-column-data" title="8.7.2 Operations on Compound Column Data" class="md-nav__link">
    8.7.2 Operations on Compound Column Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#873-compound-foreign-key" title="8.7.3 Compound Foreign Key" class="md-nav__link">
    8.7.3 Compound Foreign Key
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#88-attributes" title="8.8 Attributes" class="md-nav__link">
    8.8 Attributes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#881-sorted-s" title="8.8.1 Sorted `s#" class="md-nav__link">
    8.8.1 Sorted `s#
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#882-unique-u" title="8.8.2 Unique `u#" class="md-nav__link">
    8.8.2 Unique `u#
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#883-parted-p" title="8.8.3 Parted `p#" class="md-nav__link">
    8.8.3 Parted `p#
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#884-grouped-g" title="8.8.4 Grouped `g#" class="md-nav__link">
    8.8.4 Grouped `g#
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#885-remove-attribute" title="8.8.5 Remove Attribute `#" class="md-nav__link">
    8.8.5 Remove Attribute `#
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../9_Queries_q-sql.1" title="9. Queries – q-sql" class="md-nav__link">
      9. Queries – q-sql
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../10_Execution_Control/index.html" title="10. Execution Control" class="md-nav__link">
      10. Execution Control
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../11_IO.1" title="11. I/O" class="md-nav__link">
      11. I/O
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../12_Workspace_Organization.1" title="12. Workspace Organization" class="md-nav__link">
      12. Workspace Organization
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../13_Commands_and_System_Variables.1" title="13. Commands and System Variables" class="md-nav__link">
      13. Commands and System Variables
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../14_Introduction_to_Kdb+.1" title="14. Introduction to Kdb+" class="md-nav__link">
      14. Introduction to Kdb+
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../A_Built-in_Functions.1" title="Appendix A. Built-in Functions" class="md-nav__link">
      Appendix A. Built-in Functions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../B_Error_Messages/index.html" title="Appendix B. Error Messages" class="md-nav__link">
      Appendix B. Error Messages
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../colophon/index.html" title="Colophon" class="md-nav__link">
      Colophon
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#80-overview" title="8.0 Overview" class="md-nav__link">
    8.0 Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#81-table-definition" title="8.1 Table Definition" class="md-nav__link">
    8.1 Table Definition
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#811-review-of-table-as-column-dictionary" title="8.1.1 Review of Table as Column Dictionary" class="md-nav__link">
    8.1.1 Review of Table as Column Dictionary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#812-table-display" title="8.1.2 Table Display" class="md-nav__link">
    8.1.2 Table Display
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#813-table-definition-syntax" title="8.1.3 Table-Definition Syntax" class="md-nav__link">
    8.1.3 Table-Definition Syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#814-table-metadata" title="8.1.4 Table Metadata" class="md-nav__link">
    8.1.4 Table Metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#815-records" title="8.1.5 Records" class="md-nav__link">
    8.1.5 Records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#816-flipped-column-dictionary-vs-list-of-records" title="8.1.6 Flipped Column Dictionary vs. List of Records" class="md-nav__link">
    8.1.6 Flipped Column Dictionary vs. List of Records
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#82-empty-tables-and-schema" title="8.2 Empty Tables and Schema" class="md-nav__link">
    8.2 Empty Tables and Schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#83-basic-select-and-update" title="8.3 Basic select and update" class="md-nav__link">
    8.3 Basic select and update
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#831-syntax-of-select" title="8.3.1 Syntax of select" class="md-nav__link">
    8.3.1 Syntax of select
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#832-displaying-the-result" title="8.3.2 Displaying the Result" class="md-nav__link">
    8.3.2 Displaying the Result
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#833-selecting-columns" title="8.3.3 Selecting Columns" class="md-nav__link">
    8.3.3 Selecting Columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#834-basic-update" title="8.3.4 Basic update" class="md-nav__link">
    8.3.4 Basic update
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#84-primary-keys-and-keyed-tables" title="8.4 Primary Keys and Keyed Tables" class="md-nav__link">
    8.4 Primary Keys and Keyed Tables
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#841-keyed-table" title="8.4.1 Keyed Table" class="md-nav__link">
    8.4.1 Keyed Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#842-simple-example" title="8.4.2 Simple Example" class="md-nav__link">
    8.4.2 Simple Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#843-keyed-table-definition-syntax" title="8.4.3 Keyed-Table Definition Syntax" class="md-nav__link">
    8.4.3 Keyed-Table Definition Syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#844-accessing-records-of-a-keyed-table" title="8.4.4 Accessing Records of a Keyed Table" class="md-nav__link">
    8.4.4 Accessing Records of a Keyed Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#845-retrieving-multiple-records" title="8.4.5 Retrieving Multiple Records" class="md-nav__link">
    8.4.5 Retrieving Multiple Records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#846-reverse-lookup" title="8.4.6 Reverse Lookup" class="md-nav__link">
    8.4.6 Reverse Lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#847-components-of-a-keyed-table" title="8.4.7 Components of a Keyed Table" class="md-nav__link">
    8.4.7 Components of a Keyed Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#848-tables-vs-keyed-tables" title="8.4.8 Tables vs. Keyed Tables" class="md-nav__link">
    8.4.8 Tables vs. Keyed Tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#849-compound-primary-key" title="8.4.9 Compound Primary Key" class="md-nav__link">
    8.4.9 Compound Primary Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#8410-retrieving-records-with-a-compound-primary-key" title="8.4.10 Retrieving Records with a Compound Primary Key" class="md-nav__link">
    8.4.10 Retrieving Records with a Compound Primary Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#8411-extracting-column-data" title="8.4.11 Extracting Column Data" class="md-nav__link">
    8.4.11 Extracting Column Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#85-foreign-keys-and-virtual-columns" title="8.5 Foreign Keys and Virtual Columns" class="md-nav__link">
    8.5 Foreign Keys and Virtual Columns
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#851-definition-of-foreign-key" title="8.5.1 Definition of Foreign Key" class="md-nav__link">
    8.5.1 Definition of Foreign Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#852-example-of-simple-foreign-key" title="8.5.2 Example of Simple Foreign Key" class="md-nav__link">
    8.5.2 Example of Simple Foreign Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#853-resolving-a-foreign-key" title="8.5.3 Resolving a Foreign Key" class="md-nav__link">
    8.5.3 Resolving a Foreign Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#854-foreign-keys-and-relations" title="8.5.4 Foreign Keys and Relations" class="md-nav__link">
    8.5.4 Foreign Keys and Relations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#86-working-with-tables-and-keyed-tables" title="8.6 Working with Tables and Keyed Tables" class="md-nav__link">
    8.6 Working with Tables and Keyed Tables
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#861-appending-records" title="8.6.1 Appending Records" class="md-nav__link">
    8.6.1 Appending Records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#862-first-and-last-records" title="8.6.2 First and Last Records" class="md-nav__link">
    8.6.2 First and Last Records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#863-find" title="8.6.3 Find" class="md-nav__link">
    8.6.3 Find
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#864-union-with" title="8.6.4 Union with ," class="md-nav__link">
    8.6.4 Union with ,
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#865-coalesce" title="8.6.5 Coalesce ^" class="md-nav__link">
    8.6.5 Coalesce ^
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#866-column-join" title="8.6.6 Column Join" class="md-nav__link">
    8.6.6 Column Join
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#87-complex-column-data" title="8.7 Complex Column Data" class="md-nav__link">
    8.7 Complex Column Data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#871-simple-example" title="8.7.1 Simple Example" class="md-nav__link">
    8.7.1 Simple Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#872-operations-on-compound-column-data" title="8.7.2 Operations on Compound Column Data" class="md-nav__link">
    8.7.2 Operations on Compound Column Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#873-compound-foreign-key" title="8.7.3 Compound Foreign Key" class="md-nav__link">
    8.7.3 Compound Foreign Key
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="../8_Tables.1#88-attributes" title="8.8 Attributes" class="md-nav__link">
    8.8 Attributes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#881-sorted-s" title="8.8.1 Sorted `s#" class="md-nav__link">
    8.8.1 Sorted `s#
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#882-unique-u" title="8.8.2 Unique `u#" class="md-nav__link">
    8.8.2 Unique `u#
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#883-parted-p" title="8.8.3 Parted `p#" class="md-nav__link">
    8.8.3 Parted `p#
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#884-grouped-g" title="8.8.4 Grouped `g#" class="md-nav__link">
    8.8.4 Grouped `g#
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="../8_Tables.1#885-remove-attribute" title="8.8.5 Remove Attribute `#" class="md-nav__link">
    8.8.5 Remove Attribute `#
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="8-tables">8. Tables<a class="headerlink" href="../8_Tables.1#8-tables" title="Permanent link">&para;</a></h1>
<h2 id="80-overview">8.0 Overview<a class="headerlink" href="../8_Tables.1#80-overview" title="Permanent link">&para;</a></h2>
<p>Tables are first-class entities in q, meaning they are data structures that live in memory just like lists or dictionaries. A q table is essentially a collection of named columns implemented as a dictionary. Consequently, q tables are column-oriented, in contrast to the row-oriented tables in relational databases. Moreover, since lists are ordered, so are columns, in contrast to SQL where the order of rows is undefined. The fact that q tables comprise ordered column lists makes kdb+ very efficient at storing, retrieving and manipulating sequential data. One important example is time-series data.</p>
<p>Kdb+ handles relational and time series data in the unified environment of q tables. There is no separate data-definition language, no separate stored-procedure language and no need to map internal representations to a separate form for persistence. Just q tables, expressions and functions.</p>
<p>Tables are built from dictionaries, so it behooves the cursory reader to review <a href="../5_Dictionaries.1">Chapter 5</a> before proceeding.</p>
<h2 id="81-table-definition">8.1 Table Definition<a class="headerlink" href="../8_Tables.1#81-table-definition" title="Permanent link">&para;</a></h2>
<h3 id="811-review-of-table-as-column-dictionary">8.1.1 Review of Table as Column Dictionary<a class="headerlink" href="../8_Tables.1#811-review-of-table-as-column-dictionary" title="Permanent link">&para;</a></h3>
<p>We summarize our findings on column dictionaries from <a href="../5_Dictionaries.1#54-flipping-a-column-dictionary">§5.4</a>. We began with a rectangular collection of named column lists.</p>
<pre><code class="q">q)dc:`name`iq!(`Dent`Beeblebrox`Prefect;98 42 126)
q)dc[`iq;]
98 42 126
q)dc[;2]
name| `Prefect
iq | 126
q)dc[`iq; 2]
126
</code></pre>

<p>Transpose it with <code>flip</code> to get a table.</p>
<pre><code class="q">q)t:flip `name`iq!(`Dent`Beeblebrox`Prefect;98 42 126)
q)t[;`iq]
98 42 126
q)t[2;]
name| `Prefect
iq  | 126
q)t[2;`iq]
126
</code></pre>

<p>We repeat our findings about a table defined this way.</p>
<ul>
<li>It is a two-dimensional data structure that uses an integer index in the first slot and a symbol column name in the second slot.</li>
<li>Specifying only an integer in the first slot retrieves a section dictionary across that index – i.e., a record.</li>
<li>Specifying only a column name in the second slot retrieves that column.</li>
<li>Specifying both an integer and a column name retrieves the "field" at that row in that column.</li>
<li>A table is logically a list of section dictionaries.</li>
<li>The <strong>only</strong> effect of flipping the column dictionary is to reverse the order of its indices; no data is rearranged under the covers.</li>
</ul>
<p>All tables have type <code>98h</code>.</p>
<pre><code class="q">q)type t
98h
</code></pre>

<p>The proper way to extract a table column is by eliding the row index. For table columns (only), you can omit the leading semi-colon in the syntax.</p>
<pre><code class="q">q)t[;`iq]
_
q)t[`iq]
_
q)t[`name`iq]
Dent Beeblebrox Prefect
98   42         126
</code></pre>

<p>Since it is possible to retrieve values from a dictionary using dot notation, this is also true for tables.</p>
<pre><code class="q">q)t.name
_
</code></pre>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Unfortunately dot notation doesn't work inside functions so we recommend not using it at all.</p>
</div>
<h3 id="812-table-display">8.1.2 Table Display<a class="headerlink" href="../8_Tables.1#812-table-display" title="Permanent link">&para;</a></h3>
<p>Observe that the row and column display of a table is indeed the transpose of the dictionary display. This reflects the transposed indices, even though the internal data layout is the same.</p>
<pre><code class="q">q)dc
name| Dent Beeblebrox Prefect
iq  | 98   42         126
q)t
name       iq 
--------------
Dent       98 
Beeblebrox 42 
Prefect    126
</code></pre>

<h3 id="813-table-definition-syntax">8.1.3 Table-Definition Syntax<a class="headerlink" href="../8_Tables.1#813-table-definition-syntax" title="Permanent link">&para;</a></h3>
<p>Constructing a table by flipping a column dictionary is useful when you need to build the table on the fly. There is an alternate syntax to define tables that makes things a bit more readable.</p>
<p>([] <em>c<sub>1</sub></em>:<em>L<sub>1</sub></em>; ...; <em>c<sub>n</sub></em>:<em>L<sub>n</sub></em>)</p>
<p>Here <em>c<sub>i</sub></em> is a symbol representing a column name and <em>L<sub>i</sub></em> is the corresponding list of column values. The <em>L<sub>i</sub></em> are lists of equal count, but can be atoms as long as at least one is a list. The brackets will contain key columns for keyed tables – explained in <a href="../8_Tables.1#833-selecting-columns">§8.3.3</a> – but are empty for tables. For readability, in this tutorial we shall often include optional whitespace after the closing square bracket and to the right of semicolon separators.</p>
<p>The colons in table-definition syntax are <strong>not</strong> assignment. They are part of the syntactic sugar and serve as markers separating column names from column values.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not omit the square brackets in table-definition syntax. The interpreter will not complain and you will end up with a list, rather than a table, and the colons will be assignment.</p>
</div>
<p>Here is how to define our favorite table using table-definition syntax, which is arguably simpler.</p>
<pre><code class="q">q)t:([] name:`Dent`Beeblebrox`Prefect; iq:98 42 126)
q)t~flip `name`iq!(`Dent`Beeblebrox`Prefect;98 42 126)
1b
</code></pre>

<p>The value lists in table-definition syntax can originate from variables, which is useful for programmatic table definition. In this case the column names are the variable names.</p>
<pre><code class="q">q)c1:`Dent`Beeblebrox`Prefect
q)c2:98 42 126
q)([] c1; c2)
_
</code></pre>

<p>This example shows that if you don't explicitly specify column names, q will create them on a best-effort basis. In this example, it used the variable names. It will also try to make duplicate column names unique by appending a numeric suffix.</p>
<p>Any valid q expression can appear to the right of the semi-colon in table-definition syntax; it is evaluated as part of the table construction. You must ensure that the resulting column lists all have the same length.</p>
<pre><code class="q">q)([] c1:1+til 5; c2:5#42)
_
</code></pre>

<p>Provided you specify at least one column as a list, atoms will be extended to match.</p>
<pre><code class="q">q)([] c1:`a`b`c; c2:42; c3:98.6)
c1 c2 c3  
----------
a  42 98.6
b  42 98.6
c  42 98.6
</code></pre>

<p>Using an atom in this way might appear to assign a default value. It does not.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You cannot define a single-row table using all atoms. You must enlist at least one of the atoms.
<pre><code class="language-q">
q)([] c1:`a; c2:100)
'rank
q)([] enlist `a; c2:100)
_
</code></pre></p>
</div>
<p>If you create a table as the flip of a column dictionary, item-wise extension is performed when the column dictionary is flipped into a table.</p>
<pre><code class="q">q)`c1`c2`c3!(`a`b`c;42;1.1)
c1| `a`b`c
c2| 42
c3| 1.1
q)flip `c1`c2`c3!(`a`b`c;42;1.1)
q)flip `c1`c2`c3!(`a`b`c;42;1.1)
c1 c2 c3 
---------
a  42 1.1
b  42 1.1
c  42 1.1
</code></pre>

<h3 id="814-table-metadata">8.1.4 Table Metadata<a class="headerlink" href="../8_Tables.1#814-table-metadata" title="Permanent link">&para;</a></h3>
<p>The column names of a table can be retrieved as a list of symbols with <code>cols</code>.</p>
<pre><code class="q">q)cols t
_
</code></pre>

<p>The function <code>meta</code> applied to a table retrieves its metadata. The result is a keyed table (see <a href="../8_Tables.1#841-keyed-table">§8.4.1</a>) with one record for each column in the original table.</p>
<ul>
<li>The key column <code>c</code> of the result contains the column names.</li>
<li>The column <code>t</code> contains a symbol denoting the type char of the column.</li>
<li>The column <code>f</code> contains the domains of any foreign key or link columns.</li>
<li>The column <code>a</code> contains any attributes associated with the column.</li>
</ul>
<pre><code class="q">q)meta t
c   | t f a
----| -----
name| s    
iq  | j
</code></pre>

<p>When <code>meta</code> displays an <strong>upper</strong>-case type char for a column, this indicates that column is a <em>compound</em> list in which all fields are simple lists of the indicated type. Such tables arise, for example, when you group without aggregating in a query. Here is one created manually. Observe the upper case 'J' in the <code>t</code> column for column <code>c2</code>.</p>
<pre><code class="q">q)meta ([] c1:1 2 3; c2:(1 2; enlist 3; 4 5 6))
c | t f a
--| -----
c1| j    
c2| J   
</code></pre>

<div class="admonition advanced">
<p class="admonition-title">Advanced</p>
<p>When <code>meta</code> is applied to a partitioned table that has been mapped into memory, it examines only the most recent partition. Thus it makes the implicit assumption that the partition slice schemas are consistent across the partitions. In the event that the partition slices are not consistent, <code>meta</code> blithely reports the schema found in the most recent partition. In order to determine the offending partition, you will have to run <code>meta</code> on each of the partition slices and determine the outliers. This is relevant because the <code>.Q</code> utilities will <strong>not</strong> prevent you from writing an inconsistent partition slice and you may discover the error later.</p>
</div>
<p>The function <code>tables</code> takes a symbolic namespace (see <a href="../12_Workspace_Organization.1#121-namespaces">§12.1</a>) and returns a sorted symbol list of the names of tables in that context. For example, we list all tables in the root context for a fresh q session.</p>
<pre><code class="q">q)t2:([] c1:1 2 3; c2:(1 2; enlist 3; 4 5 6))
q)t:([] name:`Dent`Beeblebrox`Prefect; iq:98 42 126)
q)tables `.
`t`t2
</code></pre>

<p>Alternatively, the command <code>\a</code> provides the same result. If no argument is provided, it returns the result for the current context.</p>
<h3 id="815-records">8.1.5 Records<a class="headerlink" href="../8_Tables.1#815-records" title="Permanent link">&para;</a></h3>
<p>Since a table is logically a list of dictionary records, <code>count</code> returns the number of records. In our example,</p>
<pre><code class="q">q)count t
_
</code></pre>

<p>Now let's inspect the sequence of records.</p>
<pre><code class="q">q)t
name       iq 
--------------
Dent       98 
Beeblebrox 42 
Prefect    126
q)t[0]
name| `Dent
iq  | 98
q)t[1]
name| `Beeblebrox
iq  | 42
</code></pre>

<p>Since a record dictionary slices across the table display horizontally, this motivates calling the value portion of the record dictionary a table <em>row</em>. The record associates column names with the values in a physical row. To retrieve the naked values of a row – i.e., without the column names – simply apply <code>value</code> to the record dictionary.</p>
<pre><code class="q">q)value t[1]
`Beeblebrox
42
</code></pre>

<h3 id="816-flipped-column-dictionary-vs-list-of-records">8.1.6 Flipped Column Dictionary vs. List of Records<a class="headerlink" href="../8_Tables.1#816-flipped-column-dictionary-vs-list-of-records" title="Permanent link">&para;</a></h3>
<p>Is a table a flipped column dictionary or a list of records? Logically it is both, but physically it is stored as a column dictionary. In fact, q dynamically recognizes a conforming list of dictionaries that could be formed into a table and reorganizes the data into columnar form automatically. It doesn't ask for permission or seek forgiveness.</p>
<p>To verify this, we first create a list of non-conforming dictionaries that differ in <!-- the *italicized* --> key names. As expected it has type 0.</p>
<pre><code class="q">q)type (`name`iq!(`Dent;98); `nome`iq!(`Beeblebrox;42))
0h
</code></pre>

<p>Once we make the names agree so that the records conform, <code>type</code> tells us that q has indeed converted the list to a table.</p>
<pre><code class="q">q)type (`name`iq!(`Dent;98); `name`iq!(`Beeblebrox;42))
98h
</code></pre>

<p>This is no mere illusion. The data have been reorganized into columns.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Here is a useful special case of this phenomenon. Start with a simple dictionary and enlist it to create a singleton. What is this?
<pre><code class="language-q">
q)enlist `a`b!10 20
_
</code></pre>
It is a table because it is a singleton list of records that conform.</p>
</div>
<p>You might think that you don't want q to do this automatic reorganization, but you would be wrong. In general, column retrieval and manipulation will be significantly faster than operations on a list of dictionaries, especially if the columns are simple – i.e., the column values are stored contiguously.</p>
<p>A downside of tables being stored as columns is that row deletion is an expensive operation because all the column lists must be compressed to close the resulting gap. The best way to deal with this in large tables is not to do it. Instead of deleting a row, use a separate column that holds a flag indicating whether the row has been deleted and then exclude the "deleted" rows. Then compress this column to save space since it will be sparse.</p>
<h2 id="82-empty-tables-and-schema">8.2 Empty Tables and Schema<a class="headerlink" href="../8_Tables.1#82-empty-tables-and-schema" title="Permanent link">&para;</a></h2>
<p>We saw in the previous section that a table can be defined and populated in one step using table syntax.</p>
<pre><code class="q">q)t:([] name:`Dent`Beeblebrox`Prefect; iq:98 42 126)
</code></pre>

<p>Fully listing columns with literals is usually done only with smaller tables – e.g., lookup tables. Large tables are usually created programmatically from computed data or data read from files or received over the wire.</p>
<p>In these circumstances, it is useful to create an empty table initially and then populate it later by appending in place. You could do this with general empty lists.</p>
<pre><code class="q">q)([] name:(); iq:())
</code></pre>

<p>All columns here are lists of general type, so data of any type can be appended in the first record. Should the first item being appended to an empty column be an atom (a common case), the column becomes a singleton list with that atom – i.e., a simple list of that type. As with all simple lists, type checking will thereafter be enforced for all inserts and updates to that column. Consequently all subsequent appends must match the initial one.</p>
<p>This situation is fine provided you are guaranteed that all data will match the initial record. Unfortunately, real world data can be highly unpredictable. Should the first record be bad, type checking will reject all subsequent good data.</p>
<div class="admonition recommendation">
<p class="admonition-title">Recommendation</p>
<p>It is good practice to specify the types of all columns in an empty table. In the table definition, cast an empty list to the appropriate type.
<pre><code class="language-q">
q)([] name:&#96;symbol&#36;(); iq:&#96;int&#36;())
_
</code></pre></p>
</div>
<p>A shorter, and arguably less obvious technique is the following.</p>
<pre><code class="q">q)([] name:0#`; iq:0#0)
_
q)([] name:0#`; iq:0#0)~ ([] name:`symbol$(); iq:`int$())
1b
</code></pre>

<p>Whichever form you use, it ensures that only data of the appropriate type can be appended.</p>
<h2 id="83-basic-select-and-update">8.3 Basic select and update<a class="headerlink" href="../8_Tables.1#83-basic-select-and-update" title="Permanent link">&para;</a></h2>
<p>We shall cover q-sql in depth in Chapter 9, but we provide an introduction here in order to extract and display data in our examples. We use the following sample table in this section.</p>
<pre><code class="q">q)t:([] name:`Dent`Beeblebrox`Prefect; iq:98 42 126)
</code></pre>

<h3 id="831-syntax-of-select">8.3.1 Syntax of select<a class="headerlink" href="../8_Tables.1#831-syntax-of-select" title="Permanent link">&para;</a></h3>
<p>The basic select is a template that takes the form,</p>
<pre><code class="q">select cols from table
</code></pre>

<p>where <em>table</em> is either a table or a keyed table and <em>cols</em> is a comma-separated list of columns. This expression results in a list of <strong>all</strong> records for the specified columns. This corresponds to the SQL statement,</p>
<pre><code class="sql">SELECT * FROM table
</code></pre>

<p>In q you do not write the wildcards when you want all columns in the table; simply omit the columns and you get them all.</p>
<p>This basic select syntax may seem comfortably familiar from SQL, but it should seem odd to the qbie who is just getting accustomed to parsing expressions right-to-left. Neither <code>select</code> nor <code>from</code> represent functions that can stand alone. There are many options for the basic select template whose elements appear between the <code>select</code> and <code>from</code> or after the <em>table</em> element.</p>
<h3 id="832-displaying-the-result">8.3.2 Displaying the Result<a class="headerlink" href="../8_Tables.1#832-displaying-the-result" title="Permanent link">&para;</a></h3>
<p>The result of <code>select</code> is always a table. You may think of it as a list of (conforming) records but it is actually constructed as a column dictionary.</p>
<pre><code class="q">q)select from t
name       iq 
--------------
Dent       98 
Beeblebrox 42 
Prefect    126
</code></pre>

<h3 id="833-selecting-columns">8.3.3 Selecting Columns<a class="headerlink" href="../8_Tables.1#833-selecting-columns" title="Permanent link">&para;</a></h3>
<p>To select specific columns, list them comma-separated in left-to-right order between <code>select</code> and <code>from</code>. You can optionally provide column names using the same colon format as table-definition syntax.</p>
<pre><code class="q">q)select name from t
name
----------
Dent
Beeblebrox
Prefect
q)select c1:name, c2:iq from t
_
</code></pre>

<h3 id="834-basic-update">8.3.4 Basic update<a class="headerlink" href="../8_Tables.1#834-basic-update" title="Permanent link">&para;</a></h3>
<p>The syntax of <code>update</code> is the same as <code>select</code>, but named columns represent replacement by the values to the right of the colon. In our example,</p>
<pre><code class="q">q)update iq:iq%100 from t
_
</code></pre>

<h2 id="84-primary-keys-and-keyed-tables">8.4 Primary Keys and Keyed Tables<a class="headerlink" href="../8_Tables.1#84-primary-keys-and-keyed-tables" title="Permanent link">&para;</a></h2>
<p>In SQL, one can declare one or more column(s) of a table as a primary key. This means that the values in the column(s) are unique over the domain of the rows, making it possible to identify and retrieve a row via its key value. These two features motivate how q implements a keyed table.</p>
<h3 id="841-keyed-table">8.4.1 Keyed Table<a class="headerlink" href="../8_Tables.1#841-keyed-table" title="Permanent link">&para;</a></h3>
<p>We begin with a simple key – i.e., the key is a single column of simple type. The approach is to place the key column in a separate table parallel to a table containing the remaining columns to obtain a table of keys and a table of values. Since a table is logically a list of records, this is the same as a list of key records and list of value records. We establish a positional correspondence between these lists via a dictionary mapping.</p>
<p>A <em>keyed table</em> is a dictionary mapping a table of key records to a table of value records. This represents a mapping from each row in a table of (presumably unique) keys to a corresponding row in a table of values – i.e., a positional correspondence of key rows to value rows. Using dictionary lookup on a key (record) retrieves the corresponding value record in the remaining columns. This is just what a primary key should do. Note that the key mapping assumes that the key records and value records are in corresponding order.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>A keyed table is <strong>not</strong> a table – it is a dictionary and so has type <code>99h</code>.</p>
</div>
<p>Keys should be unique but (sadly) this is not enforced. As we have already noted, dictionary creation does not enforce key uniqueness. A value row associated with a duplicate key is not accessible via key lookup, but it can be retrieved via a <code>select</code> on the key column.</p>
<h3 id="842-simple-example">8.4.2 Simple Example<a class="headerlink" href="../8_Tables.1#842-simple-example" title="Permanent link">&para;</a></h3>
<p>Let's see how this works for our previous example. We begin with a flipped column dictionary to make things explicit.</p>
<pre><code class="q">q)v:flip `name`iq!(`Dent`Beeblebrox`Prefect;98 42 126)
</code></pre>

<p>Now say we want to add a key column <code>eid</code> containing employee identifiers. We begin by placing the identifiers in a separate table. Recall from <a href="../5_Dictionaries.1#534-column-dictionary-with-a-single-column">§5.3.4</a> that we must enlist both the column name and the value list for single column table.</p>
<pre><code class="q">q)k:flip (enlist `eid)!enlist 1001 1002 1003
</code></pre>

<p>Now establish the association between the two tables.</p>
<pre><code class="q">q)kt:k!v
</code></pre>

<p><em>Voilà!</em> The console display of a keyed table is the combination of dictionary display and table display. It lists the key column(s) on the left, separated by a vertical bar from the value columns on the right.</p>
<pre><code class="q">q)kt
eid | name       iq 
----| --------------
1001| Dent       98 
1002| Beeblebrox 42 
1003| Prefect    126
</code></pre>

<h3 id="843-keyed-table-definition-syntax">8.4.3 Keyed-Table Definition Syntax<a class="headerlink" href="../8_Tables.1#843-keyed-table-definition-syntax" title="Permanent link">&para;</a></h3>
<p>Fundamentalists insist on constructing a keyed table as a dictionary of flipped dictionaries, but most folks prefer to use table-definition syntax.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Due to space limitations on the printed page we cannot fit our keyed table examples on a single line, so we wrap the lines, with column alignment for readability. You cannot enter such a multiline statement into the q console, but you can place it in a script. If you are following this tutorial line by line, you can copy/paste the individual lines onto a single line in the q console.</p>
</div>
<p>Here is the fundamental form of our keyed table.</p>
<pre><code class="q">q)kt:(flip (enlist `eid)!enlist 1001 1002 1003)!
    flip `name`iq!(`Dent`Beeblebrox`Prefect;98 42 126)
</code></pre>

<p>It is arguably simpler to use table-definition syntax. This is a generalization of (plain) table definition in which key column(s) are placed between the square brackets and the value columns are after the square brackets.</p>
<pre><code class="q">q)kt:([eid:1001 1002 1003]
      name:`Dent`Beeblebrox`Prefect; iq:98 42 126)
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Placing key column(s) inside the square brackets is consistent with the notation for a (regular) table since a regular table has no keys.</p>
</div>
<p>To define an empty keyed table, use empty key and value columns.</p>
<pre><code class="q">q)ktempty:([eid:()] name:(); iq:())
</code></pre>

<p>As with regular tables, empty columns should be typed with either of the following constructs to ensure data integrity.</p>
<pre><code class="q">q)ktempty:([eid:`int$()] `symbol$name:(); iq:`int$())
q)ktempty:([eid:0#0] name:0#`; iq:0#0)
</code></pre>

<h3 id="844-accessing-records-of-a-keyed-table">8.4.4 Accessing Records of a Keyed Table<a class="headerlink" href="../8_Tables.1#844-accessing-records-of-a-keyed-table" title="Permanent link">&para;</a></h3>
<p>Since a keyed table is a dictionary mapping, it provides access to records in the value table via key lookup. Remember that the records in the key table and value table are section dictionaries.</p>
<pre><code class="q">q)kt[(enlist `eid)!enlist 1002]
name| `Beeblebrox
iq  | 42
</code></pre>

<p>Yikes! This is a cumbersome way to retrieve by key.</p>
<p>Fortunately, you can abbreviate the full dictionary specification of a key record to its key value. Our example reduces to,</p>
<pre><code class="q">q)kt[1002]
name| `Beeblebrox
iq  | 42
</code></pre>

<p>Now we can look up the value for an individual column.</p>
<pre><code class="q">q)kt[1002][`iq]
42
</code></pre>

<p>Or we can use the equivalent index at depth notation.</p>
<pre><code class="q">q)kt[1002;`iq]
42
</code></pre>

<p>After the customary moment of q Zen, we realize that the net effect of "placing a key on a table" is to convert indexing of the rows from row number to key value.</p>
<h3 id="845-retrieving-multiple-records">8.4.5 Retrieving Multiple Records<a class="headerlink" href="../8_Tables.1#845-retrieving-multiple-records" title="Permanent link">&para;</a></h3>
<p>We have seen how to look up a single record in a keyed table by key value.</p>
<pre><code class="q">q)kt[1001]
name| `Dent
iq  | 98
q)kt 1001
_
</code></pre>

<p>You might think it is possible to retrieve multiple records from a keyed table via a simple list of keys. You would be wrong.</p>
<pre><code class="q">q)kt[1001 1002]
'length
</code></pre>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This works for a compound key – i.e., a multi-column key – just not for a single column key.</p>
</div>
<p>To look up multiple key values in a keyed table, we could use one of the following constructs to generate a list of enlisted keys.</p>
<pre><code class="q">q)kt[(enlist 1001;enlist 1002)]
name       iq
-------------
Dent       98
Beeblebrox 42
q)kt[flip enlist 1001 1002]
_
</code></pre>

<p>This is still pretty cumbersome, so back to the drawing board. Since we are supposed to provide a list of key records for lookup, we can simply create an anonymous table whose records are precisely the form we need.</p>
<pre><code class="q">q)kt ([] eid:1001 1002)
_
</code></pre>

<p>Now that's slick!</p>
<p>With such a nifty way to create a list of key records in hand, we recall from <a href="../5_Dictionaries.1#522-extracting-a-sub-dictionary">§5.2.2</a> that a sub-dictionary can be extracted using a list of keys as the left operand of <code>#</code>. Applying this to our keyed table,</p>
<pre><code class="q">q)([] eid:1001 1002)#kt
eid | name       iq
----| -------------
1001| Dent       98
1002| Beeblebrox 42
</code></pre>

<p>The Zen of keyed tables… no select statement required.</p>
<h3 id="846-reverse-lookup">8.4.6 Reverse Lookup<a class="headerlink" href="../8_Tables.1#846-reverse-lookup" title="Permanent link">&para;</a></h3>
<p>Because a keyed table is a dictionary, it is possible to perform reverse lookup from value records to key records. Let's show an example having a single value column.</p>
<pre><code class="q">q)kts:([eid:1001 1002 1003] name:`Dent`Beeblebrox`Prefect)
q)kts
_
</code></pre>

<p>As in the case of key lookup, we can use an anonymous table with a list of value records.</p>
<pre><code class="q">q)kts?([] name:`Prefect`Dent)
_
</code></pre>

<h3 id="847-components-of-a-keyed-table">8.4.7 Components of a Keyed Table<a class="headerlink" href="../8_Tables.1#847-components-of-a-keyed-table" title="Permanent link">&para;</a></h3>
<p>Since a keyed table is a dictionary mapping the table of keys to the table of values, the functions <code>key</code> and <code>value</code> extract the constituents.</p>
<pre><code class="q">q)key kt
_
q)value kt
_
</code></pre>

<p>The function <code>keys</code> returns a list of symbolic key column name(s).</p>
<pre><code class="q">q)keys kt
_
</code></pre>

<p>Observe that <code>cols</code> retrieves all column names of the keyed table – i.e., from both the key and value tables.</p>
<pre><code class="q">q)cols kt
_
</code></pre>

<h3 id="848-tables-vs-keyed-tables">8.4.8 Tables vs. Keyed Tables<a class="headerlink" href="../8_Tables.1#848-tables-vs-keyed-tables" title="Permanent link">&para;</a></h3>
<p>It is possible to convert dynamically between a regular table having a column of potential key values and the corresponding keyed table using dyadic primitive <code>xkey</code>. The right operand is the source table/keyed table and the left operand is a symbol (or list of symbols) with the column name(s) to be used as the key.</p>
<pre><code class="q">q)t:([] eid:1001 1002 1003; name:`Dent`Beeblebrox`Prefect; iq:98 42 126)
q)`eid xkey t
eid | name       iq 
----| --------------
1001| Dent       98 
1002| Beeblebrox 42 
1003| Prefect    126
</code></pre>

<p>Conversely, to convert a keyed table to a regular table, use <code>xkey</code> with an empty general list as the left operand.</p>
<pre><code class="q">q)kt:([eid:1001 1002 1003] name:`Dent`Beeblebrox`Prefect; iq:98 42 126)
q)kt
_
q)() xkey kt
eid  name       iq 
-------------------
1001 Dent       98 
1002 Beeblebrox 42 
1003 Prefect    126
</code></pre>

<p>You can also use an overload of <code>!</code> to key/unkey tables. The left operand is a non-negative integer that specifies the number of left-most columns to include in the key, where 0 indicates none – i.e., no keys. With t and kt as above,</p>
<pre><code class="q">q)1!t
_
q)0!kt
_
</code></pre>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>While these forms are terse, the first makes your code less obvious since the new key column(s) are only implicit.</p>
</div>
<p>The table/keyed table conversions above (in both forms) work on copies and do not affect the original table. Use call-by-name to modify the original.</p>
<pre><code class="q">q)`eid xkey `t
`t
q)t
_
q)() xkey `kt
`kt
q)kt
_
</code></pre>

<p>If <code>xkey</code> is applied with a column that does not contain unique values, the result is not a error but rather a keyed table that does not have a true primary key.</p>
<pre><code class="q">q)t:([] eid:1001 1002 1003 1001; name:`Dent`Beeblebrox`Prefect`Dup)
q)ktdup:`eid xkey t
q)ktdup
eid | name
----| ----------
1001| Dent
1002| Beeblebrox
1003| Prefect
1001| Dup
</code></pre>

<p>Duplicate key values are not accessible via key lookup.</p>
<pre><code class="q">q)ktdup 1001
name| Dent
</code></pre>

<p>They are accessible via select.</p>
<pre><code class="q">q)select from ktdup where eid=1001
eid | name
----| ----
1001| Dent
1001| Dup
</code></pre>

<h3 id="849-compound-primary-key">8.4.9 Compound Primary Key<a class="headerlink" href="../8_Tables.1#849-compound-primary-key" title="Permanent link">&para;</a></h3>
<p>The q implementation of a keyed table as a dictionary mapping between a pair of tables carries over unchanged to compound keys. Recall that a compound key in SQL is a collection of multiple columns that together provide a unique value for each row. A compound key in q is simply a table association <code>k!v</code> in which <code>k</code> has multiple columns. Presumably each record in the key table has a unique combination of field values, but this is <strong>not</strong> checked.</p>
<p>Here is our galactic travelers table redone to replace the employee ID with a compound key comprising last and first names.</p>
<pre><code class="q">q)ktc:([lname:`Dent`Beeblebrox`Prefect; fname:`Arthur`Zaphod`Ford]; iq:98 42 126)
</code></pre>

<p>Observe that the console displays a compound keyed table with the key columns on the left of the vertical bar and the value columns to the right.</p>
<pre><code class="q">q)ktc
lname      fname | iq 
-----------------| ---
Dent       Arthur| 98 
Beeblebrox Zaphod| 42 
Prefect    Ford  | 126
</code></pre>

<p>Here is lookup by a compound key record,</p>
<pre><code class="q">q)ktc[`lname`fname!`Beeblebrox`Zaphod]
_
</code></pre>

<p>As with a simple key, we can abbreviate a full key record to the key value for key lookup.</p>
<pre><code class="q">q)ktc[`Dent`Arthur]
_
</code></pre>

<p>The empty keyed table can be typed using table-definition syntax with either of the following,</p>
<pre><code class="q">q)ktc:([lname:`symbol$();fname:`symbol$()] iq:`int$())
q)ktc:([lname:0#`;fname:0#`] iq:0#0)
</code></pre>

<p>For the fundamentalists, here is the same compound keyed table built from its constituent column dictionaries.</p>
<pre><code class="q">q)ktc:(flip `lname`fname!(`Dent`Beeblebrox`Prefect;`Arthur`Zaphod`Ford))!flip (enlist `iq)!enlist 98 42 126
</code></pre>

<p>Most will agree that the table-definition syntax is simpler.</p>
<h3 id="8410-retrieving-records-with-a-compound-primary-key">8.4.10 Retrieving Records with a Compound Primary Key<a class="headerlink" href="../8_Tables.1#8410-retrieving-records-with-a-compound-primary-key" title="Permanent link">&para;</a></h3>
<p>Unlike a simple key, we can lookup multiple value records with a list of compound keys.</p>
<pre><code class="q">q)ktc (`Dent`Arthur;`Prefect`Ford)
_
</code></pre>

<p>Of course the nifty construct with an anonymous table works with compound keys too.</p>
<pre><code class="q">q)ktc ([] lname:`Dent`Prefect; fname:`Arthur`Ford)
_
</code></pre>

<p>As does the use of <code>#</code> to retrieve a sub keyed table from a list of keys.</p>
<pre><code class="q">q)K:([] lname:`Dent`Prefect; fname:`Arthur`Ford)
q)K#ktc
lname   fname | iq 
--------------| ---
Dent    Arthur| 98 
Prefect Ford  | 126
</code></pre>

<h3 id="8411-extracting-column-data">8.4.11 Extracting Column Data<a class="headerlink" href="../8_Tables.1#8411-extracting-column-data" title="Permanent link">&para;</a></h3>
<p>In this section we use the following example tables. The first has a simple key of long and the second a compound key of symbols.</p>
<pre><code class="q">q)kts:([k:101 102 103] v1:`a`b`c; v2:1.1 2.2 3.3)
q)kts
_
q)ktc:([k1:`a`b`c;k2:`x`y`z] v1:`a`b`c; v2:1.1 2.2 3.3)
q)ktc
_
</code></pre>

<p>In the previous section we saw how to retrieve <strong>all</strong> the value columns using an anonymous table of keys.</p>
<pre><code class="q">q)kts[([] k:101 103)]
_
q)ktc[([] k1:`a`c;k2:`x`z)]
_
</code></pre>

<p>Often we need to extract the naked column data from some value columns. No problem for the fundamentalist. Since the result of the lookup is a sub-table of the value table, we can index into it to get the column list(s).</p>
<pre><code class="q">q)kts[([] k:101 103)][`v1]
`a`c
q)ktc[([] k1:`a`c;k2:`x`z)][`v1`v2]
_
</code></pre>

<p>And we can simplify using indexing at depth.</p>
<pre><code class="q">q)kts[([] k:101 103); `v1]
_
q)ktc[([] k1:`a`c;k2:`x`z); `v1`v2]
_
</code></pre>

<h2 id="85-foreign-keys-and-virtual-columns">8.5 Foreign Keys and Virtual Columns<a class="headerlink" href="../8_Tables.1#85-foreign-keys-and-virtual-columns" title="Permanent link">&para;</a></h2>
<p>A foreign key in SQL is a column in one table whose values are members of a primary key column in another table. Foreign keys are the mechanism for establishing relations between tables.</p>
<p>An important feature of a foreign key is that the RDBMS enforces referential integrity, meaning that values in the foreign key column are <strong>required</strong> to be in the related primary key column. Before you can insert a row having a foreign key field value that is not there, you must first ensure there is a row with that primary key in the related table.</p>
<h3 id="851-definition-of-foreign-key">8.5.1 Definition of Foreign Key<a class="headerlink" href="../8_Tables.1#851-definition-of-foreign-key" title="Permanent link">&para;</a></h3>
<p>A foreign key in q should provide a relation with referential integrity (in one direction, at least). Can we implement this with a construct we already know in q? The setting is a collection of record items in a column list that are drawn from the (supposedly) unique record items in another column list. Sound familiar? It is precisely the situation of an enumeration!</p>
<p>A <em>foreign key</em> is one or more table columns whose values are defined as an enumeration over the key column(s) of a keyed table. As in the case of symbol enumeration <code>`sym$</code>, the enumeration restricts foreign key values to be in the list of primary key values.</p>
<h3 id="852-example-of-simple-foreign-key">8.5.2 Example of Simple Foreign Key<a class="headerlink" href="../8_Tables.1#852-example-of-simple-foreign-key" title="Permanent link">&para;</a></h3>
<p>We return to the galactic travelers keyed table.</p>
<pre><code class="q">q)kt:([eid:1001 1002 1003] name:`Dent`Beeblebrox`Prefect; iq:98 42 126)
</code></pre>

<p>Suppose we have a table with the detail records of the results of repeated IQ tests of the travelers.</p>
<pre><code class="q">([] eid:1003 1001 1002 1001 1002 1001; sc:126 36 92 39 98 42)
</code></pre>

<p>This table has no restriction on <code>eid</code> other than it be a long. To ensure that only <code>eid</code> values for actual travelers can be entered, we make the <code>eid</code> column in this table a foreign key related to the <code>eid</code> column in <code>kt</code>. This is done by enumerating over the name of the keyed table – i.e., <code>`kt$</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When q sees the name of a keyed table in an enumeration domain it knows to use the list of key records.</p>
</div>
<p>Here is the enumeration of the column in isolation.</p>
<pre><code class="q">q)`kt$1002 1001 1001 1003 1002 1003
</code></pre>

<p>As in the case of symbol enumeration, q looks up the index of each foreign key value in the list of key records and, under the covers, replaces the field value with that index. Also as with symbols, the enumeration is displayed in reconstituted form instead of as the underlying indices. To see the underlying indices, cast to an integer.</p>
<pre><code class="q">q)`long$`kt$1002 1001 1001 1003 1002 1003
1 0 0 2 1 2
</code></pre>

<p>As always, the enumeration can be substituted for the original in normal operations.</p>
<pre><code class="q">q)1003=`kt$1002 1001 1003 1002 1003
000101b
</code></pre>

<p>And now, the moment of truth. Does the enumeration provide referential integrity?</p>
<pre><code class="q">q)`kt$1004
'cast
</code></pre>

<p>It does. Attempting to enumerate a value that is not in the primary key column causes an error.</p>
<p>We put this together with table-definition syntax to define a details table with a foreign key over <code>kt</code>.</p>
<pre><code class="q">q)tdetails:([] eid:`kt$1003 1001 1002 1001 1002 1001; sc:126 36 92 39 98 42)
</code></pre>

<p>Observe that a foreign key is denoted by the name of the target keyed table in the <code>f</code> column in the output of <code>meta</code>.</p>
<pre><code class="q">q)meta tdetails
c  | t f  a
---| ------
eid| j kt  
sc | j    
</code></pre>

<p>The built-in function <code>fkeys</code> applied to a table (or keyed table) returns a dictionary in which each foreign key column name is mapped to its primary key table name.</p>
<pre><code class="q">q)fkeys tdetails
eid| kt
</code></pre>

<h3 id="853-resolving-a-foreign-key">8.5.3 Resolving a Foreign Key<a class="headerlink" href="../8_Tables.1#853-resolving-a-foreign-key" title="Permanent link">&para;</a></h3>
<p>When you wish to resolve a foreign key – i.e., get the actual values instead of enumerated values – apply <code>value</code> to the enumerated column.</p>
<pre><code class="q">q)meta update value eid from tdetails
c  | t f a
---| -----
eid| j    
sc | j    
</code></pre>

<p>Observe that there is no longer an entry in the <code>f</code> column.</p>
<h3 id="854-foreign-keys-and-relations">8.5.4 Foreign Keys and Relations<a class="headerlink" href="../8_Tables.1#854-foreign-keys-and-relations" title="Permanent link">&para;</a></h3>
<p>In SQL, a join is used to splice back together data that has been normalized via relations. The splice is done along a foreign key that establishes a relation to the primary key. In the result, columns from both tables are available using dot notation.</p>
<p>The same effect is achieved in q using foreign keys but you don't need to perform the join explicitly. The notation is similar, but the operation is different enough to warrant close attention.</p>
<p>Let <code>tf</code> be a table having a foreign key column <code>f</code> enumerated over a keyed table <code>kt</code>. All columns in <code>kt</code> are available via dot notation in a <code>select</code> expression whose <em>from</em> domain is <code>tf</code>. To access a column <code>c</code> in <code>kt</code>, use the notation <code>f.c</code> in the <code>select</code> expression. This column takes the name <code>c</code> by default in the result.</p>
<p>In our galactic travelers example, we can access columns in <code>kt</code> via a <code>select</code> on <code>tdetails</code>. Here is a query that retrieves a "foreign" column in addition to one from <code>tdetails</code>.</p>
<pre><code class="q">q)select eid.name, sc from tdetails
name       sc 
--------------
Prefect    126
Dent       36 
Beeblebrox 92 
Dent       39 
Beeblebrox 98 
Dent       42 
</code></pre>

<p>There is an implicit left join between <code>tdetails</code> and <code>kt</code> here.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The implicit join with dot notation is powerful and convenient when your tables are in normal form and there are multiple foreign key relations. For example, a query could retrieve
<pre><code class="language-q">
select name.street.city.zip.country from residents where …
</code></pre>
in a single select with no explicit joins.</p>
</div>
<h2 id="86-working-with-tables-and-keyed-tables">8.6 Working with Tables and Keyed Tables<a class="headerlink" href="../8_Tables.1#86-working-with-tables-and-keyed-tables" title="Permanent link">&para;</a></h2>
<p>In this section, we use the galactic travelers tables.</p>
<pre><code class="q">q)t:([] name:`Dent`Beeblebrox`Prefect; iq:98 42 126)
q)kt:([eid:1001 1002 1003] name:`Dent`Beeblebrox`Prefect; iq:98 42 126)
</code></pre>

<h3 id="861-appending-records">8.6.1 Appending Records<a class="headerlink" href="../8_Tables.1#861-appending-records" title="Permanent link">&para;</a></h3>
<p>The fundamental way to append a record to a table is to view the table as a list of records and join with <code>,:</code>. Note that the fields in the record do not need to be in column order.</p>
<pre><code class="q">q)t,:`name`iq!(`W; 26)
q)t,:`iq`name!(200; `Albert)
q)t
_
</code></pre>

<p>You can also append naked row values with <code>,:</code> but the fields <strong>must</strong> be in column order.</p>
<pre><code class="q">q)t,:(`H; 142)
_
q)t,:(97;`J)
'type
q)t
_
</code></pre>

<h3 id="862-first-and-last-records">8.6.2 First and Last Records<a class="headerlink" href="../8_Tables.1#862-first-and-last-records" title="Permanent link">&para;</a></h3>
<p>Because a table is logically a list of records, the functions <code>first</code> and <code>last</code> retrieve the initial and final records, respectively.</p>
<pre><code class="q">q)first t
name| `Dent
iq  | 98
q)last t
_
</code></pre>

<p>A keyed table is a dictionary so functions apply to the value table.</p>
<pre><code class="q">q)first kt
name| `Dent
iq  | 98
q)last kt
_
</code></pre>

<p>Because tables and keyed tables are ordered, these functions can be used for aggregation in queries without any need of the SQL clause <code>ORDER BY</code> – provided your table was created in order.</p>
<p>You can retrieve the first or last <em>n</em> records of a table or keyed table using the take operator <code>#</code>. Why does this work? Tables are lists and keyed tables are dictionaries and <code>#</code> works on both. Since <code>#</code> always returns a list and the extracted records conform, q recognizes the result of <code>#</code> as a table or keyed table with the same schema as the input.</p>
<pre><code class="q">q)2#t
_
q)-3#kt
_
</code></pre>

<p>Also see <a href="../9_Queries_q-sql.1#9324-select">§9.3.2.4</a> for another way to achieve this result using <code>select[n]</code>.</p>
<h3 id="863-find">8.6.3 Find<a class="headerlink" href="../8_Tables.1#863-find" title="Permanent link">&para;</a></h3>
<p>The <em>find</em> operator <code>?</code> used with a table returns the index of a record – i.e., its row number.</p>
<pre><code class="q">q)t?`name`iq!(`Dent;98)
0
</code></pre>

<p>As usual, the record can be abbreviated to a row list provided the fields have the right type and order.</p>
<pre><code class="q">q)t?(`Dent;98)
_
</code></pre>

<p>Since <em>find</em> is atomic in the right operand, you can determine multiple row indices.</p>
<pre><code class="q">q)t?((`Dent;98);(`Prefect;126))
_
</code></pre>

<p>Since a keyed table is a dictionary, find <code>?</code> performs a reverse lookup of a value record/row and returns the first associated key record.</p>
<pre><code class="q">q)kt?`name`iq!(`Dent;98)
eid| 1001
q)kt?(`Dent;98)
_
</code></pre>

<p>As with key lookup, a single column must have enlisted values, or you can use the anonymous table construct.</p>
<pre><code class="q">q)t1:([] eid:1001 1002 1003)
q)t1?enlist each 1001 1002
0 1
q)t1?([] eid:1001 1002)
_
</code></pre>

<h3 id="864-union-with">8.6.4 Union with <code>,</code><a class="headerlink" href="../8_Tables.1#864-union-with" title="Permanent link">&para;</a></h3>
<p>The <em>join</em> operator <code>,</code> is defined for tables and keyed tables since they both comprise lists of records. It is essentially the same as <code>UNION</code> in SQL.</p>
<p>You can use <code>,</code> to append a record to (a copy of) a table, but no type checking will be performed.</p>
<pre><code class="q">q)t,`name`iq!(`Slaartibartfast; `123)
name            iq  
--------------------
Dent            98  
Beeblebrox      42  
Prefect         126 
Slaartibartfast `123
</code></pre>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Using a row with <code>,</code> will not yield a table. Instead you get a general list.
<pre><code class="language-q">
q)t,(`Slaartibartfast; 110)
`name`iq!(`Dent;98)
`name`iq!(`Beeblebrox;42)
`name`iq!(`Prefect;126)
`Slaartibartfast
110
</code></pre></p>
</div>
<p>Tables having <strong>exactly</strong> the same <code>meta</code> result can be joined to form a table. Since a table is a list of records, the result is obtained by appending the records of the right operand to those of the left.</p>
<pre><code class="q">q)t,([] name:1#`W; iq:1#26)
_
q)t,t
_
</code></pre>

<p>Two tables with the same columns in different order can not be joined because the order of columns is significant in q.</p>
<pre><code class="q">q)t,([] iq:1#42; name:`W)
'mismatch
</code></pre>

<p>Two keyed tables with the same <code>meta</code> result can be joined with <code>,</code>. Because a keyed table is a dictionary whose keys and values are record lists, the operation has upsert semantics. Keys in the right operand that are not in the left operand are treated as append (i.e., insert), whereas the right operand acts as an update on common key values. In other words, the right operand is upserted into the left.</p>
<pre><code class="q">q)kt,([eid:1003 1004] name:`Prefect`W; iq:150 26)
eid | name       iq 
----| --------------
1001| Dent       98 
1002| Beeblebrox 42 
1003| Prefect    150
1004| W          26 
</code></pre>

<h3 id="865-coalesce">8.6.5 Coalesce <code>^</code><a class="headerlink" href="../8_Tables.1#865-coalesce" title="Permanent link">&para;</a></h3>
<p><em>Coalesce</em> <code>^</code> can be used to merge two keyed tables having the same columns. Its behavior derives from its behavior on dictionaries. For a common key value and a common column, the value of the column in the right keyed table prevails over that of column in the left keyed table, except where the right column is null, in which case the left column value survives. On non-common keys the individual values carry thru.</p>
<p>The behavior of <code>^</code> is the same as <code>,</code> when there are no nulls in a column in the right table.</p>
<pre><code class="q">q)([k:`a`b`c] v:10 0N 30)^([k:`a`b`c] v:100 200 0N)
k| v
-| ---
a| 100
b| 200
c| 30
q)([k:`a`b`c`x] v:10 0N 30 40)^([k:`a`b`c`y]; v:100 200 0N 0N)
_
</code></pre>

<p>The performance of <code>^</code> is slower than that of <code>,</code> since fields of the right operand must be checked for null.</p>
<h3 id="866-column-join">8.6.6 Column Join<a class="headerlink" href="../8_Tables.1#866-column-join" title="Permanent link">&para;</a></h3>
<p>Two tables with the same number of records can be joined sideways with join-each (,') to create a <em>column join</em> in which the columns are aligned in parallel</p>
<pre><code class="q">q)([] c1:`a`b`c),'([] c2:100 200 300)
c1 c2 
------
a  100
b  200
c  300
</code></pre>

<p>When the column lists of the tables are not disjoint, the operation on the common columns has upsert semantics because each record is a dictionary.</p>
<pre><code class="q">q)([] c1:`a`b`c; c2:1 2 3),'([] c2:100 200 300)
c1 c2 
------
a  100
b  200
c  300
</code></pre>

<p>A sideways join on keyed tables requires that the key records conform, meaning that the key columns must have identical meta. The columns from the right operand are aligned along common keys and appended elsewhere.</p>
<pre><code class="q">q)([k:1 2 3] v1:10 20 30),'([k:3 4 5] v2:1000 2000 3000)
k| v1 v2  
-| -------
1| 10     
2| 20     
3| 30 1000
4|    2000
5|    3000
</code></pre>

<h2 id="87-complex-column-data">8.7 Complex Column Data<a class="headerlink" href="../8_Tables.1#87-complex-column-data" title="Permanent link">&para;</a></h2>
<h3 id="871-simple-example">8.7.1 Simple Example<a class="headerlink" href="../8_Tables.1#871-simple-example" title="Permanent link">&para;</a></h3>
<p>There is no restriction on the column lists of a table other than they are rectangular. In practice, simple lists are preferable because they are faster, more storage-efficient and are easier to process. There are situations in which it may be convenient to use nested column lists, although far less often than most q programmers seem to think. In general, it is more efficient to flatten columns and then use joins or grouping to create structure on the way out. For those who simply must have nested column structure, we provide examples here.</p>
<p>Suppose we want to keep track of a pair of daily observations, say a low temperature and a high temperature in Hawaii. The normal form stores the low and high values in separate columns with flat lists for rows and columns.</p>
<pre><code class="q">q)tf:([] d:2015.01.01 2015.01.02; l:67.9 72.8; h:82.1 88.4)
q)tf 0
_
q)tf `l
_
q)tf `h
_
</code></pre>

<p>Alternatively, we can store pairs in a single column, resulting in nested lists for records and columns.</p>
<pre><code class="q">q)tp:([] d:2015.01.01 2015.01.02; lh:(67.9 82.10; 72.8 88.4))
q)tp 0
d | 2015.01.01
lh| 67.9 82.1
q)tp `lh
67.9 82.1
72.8 88.4
</code></pre>

<p>This example can easily be generalized to the situation of n-tuples. For example, we could store the daily values of a yield curve. Further, the fields can have different length or even different type, although the latter is strongly discouraged as it will not be possible to persist them in kdb+.</p>
<h3 id="872-operations-on-compound-column-data">8.7.2 Operations on Compound Column Data<a class="headerlink" href="../8_Tables.1#872-operations-on-compound-column-data" title="Permanent link">&para;</a></h3>
<p>The case of a nested column in which all items are simple lists of the same type is handled specially in kdb+. We call this a <em>compound</em> column. There is no requirement that the simple lists all have the same length.</p>
<p>As an example, say we want to analyze the weekly gross revenues for movies and we don't care about the titles (we don't have room to display them here). Since there will be a different number of movies in release each week, the number of observations in each field will vary. An oversimplified time series that fits within the margins looks like the following in which the gross revenues are in millions.</p>
<pre><code class="q">q)tm:([] wk:2015.01.01 2015.01.08; rv:(38.92 67.34; 16.99 5.14 128.23 31.69))
q)tm
wk         rv                     
----------------------------------
2015.01.01 38.92 67.34            
2015.01.08 16.99 5.14 128.23 31.69
</code></pre>

<p>Storing complex values in a single column in a table enables sophisticated operations to be performed in a single expression, provided you remember:</p>
<div class="admonition tip">
<p class="admonition-title">Nested columns mean adverbs. Lots of adverbs.</p>
</div>
<p>Using our movie data, we can produce the sorted, the average and high gross for each week in one expression.</p>
<pre><code class="q">q)select wk, srt:desc each rv, avgr:avg each rv, hi:max each rv from tm
wk         srt                     avgr    hi    
-------------------------------------------------
2015.01.01 67.34 38.92             53.13   67.34 
2015.01.08 128.23 31.69 16.99 5.14 45.5125 128.23
</code></pre>

<p>While sorts and aggregates such as <code>MAX</code> and <code>AVG</code> are standard SQL, think of how you'd produce the sorted sub list and the aggregates together. In your favorite traditional programming environment, you'll soon discover that you need a sordid list of rows and a loop to unravel it.</p>
<p>Now let's compute the drops between the ranked revenue numbers within each week. No loop required in q.</p>
<pre><code class="q">q)select wk, drp:neg 1_'deltas each desc each rv from tm
wk         drp             
---------------------------
2015.01.01 ,28.42          
2015.01.08 96.54 14.7 11.85
</code></pre>

<h3 id="873-compound-foreign-key">8.7.3 Compound Foreign Key<a class="headerlink" href="../8_Tables.1#873-compound-foreign-key" title="Permanent link">&para;</a></h3>
<p>A nested column is how to make a foreign key on a compound primary key. We recast the galactic travelers to make a keyed table with common key of last and first name.</p>
<pre><code class="q">q)ktc:([lname: `Dent`Beeblebrox`Prefect; fname:`Arthur`Zaphod`Ford]; iq:98 42 126)
</code></pre>

<p>We create a details table with a foreign key over <code>ktc</code> by placing the names in the foreign key column.</p>
<pre><code class="q">q)tdetails:([] name:`ktc$(`Beeblebrox`Zaphod;`Prefect`Ford;`Beeblebrox`Zaphod); sc:36 126 42)
</code></pre>

<p>The columns of <code>ktc</code> are available as virtual columns from <code>tdetails</code>.</p>
<pre><code class="q">q)select name.lname, name.iq, sc from tdetails
lname      iq  sc 
------------------
Beeblebrox 42  36 
Prefect    126 126
Beeblebrox 42  42 
</code></pre>

<p>When defining the schema of a table with a compound key column, specify the foreign key as a cast of an empty list.</p>
<pre><code class="q">q)([] name:`ktc$();sc:`long$())
_
</code></pre>

<p>When the foreign key comprises multiple types you also cast the general list with the foreign table in its schema.</p>
<pre><code class="q">q)ktc:([k1:1 2 3; k2:2001.01.01 2001.01.02 2001.01.03] v: 1. 2. 3.)
q)tfc:([] fk:`ktc$(); s:`symbol$())
q)tfc,:(`ktc$(1; 2001.01.01); `a)
q)tfc,:(`ktc$(1; 2015.01.01); `a)
'cast
</code></pre>

<p>The failure of the cast in the second append is correct; it is enforced referential integrity.</p>
<h2 id="88-attributes">8.8 Attributes<a class="headerlink" href="../8_Tables.1#88-attributes" title="Permanent link">&para;</a></h2>
<p>Attributes are metadata that you attach to lists of special forms. They are also used on a dictionary domain or a table column to speed retrieval for some operations. The q interpreter can make certain optimizations based on the structure of the list implied by the attribute.</p>
<p>Attributes (other than <code>`g#</code>)  are descriptive rather than prescriptive. By this we mean that by applying an attribute you are asserting that the list has a special form, which q will check. It does <strong>not</strong> instruct q to (re)make the list into the special form; that is your job. A list operation that respects the form specified by the attribute leaves the attribute intact (other than <code>`p#</code>), while an operation that breaks the form results in the attribute being removed in the result.</p>
<p>The syntax for applying an attribute is (yet) another overload of <code>#</code>, whose left operand is a symbol specifying the attribute and whose right operand is the target list. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The attribute is applied to the target list in place, not on a copy.</p>
</div>
<p>Kx says not to expect significant benefit from an attribute for fewer than a million items. This is why attributes are not automatically applied in mundane situations. You should test your use case to see whether applying an attribute provides performance benefit. Do not just apply attributes blindly, as they consume resources.</p>
<h3 id="881-sorted-s">8.8.1 Sorted <code>`s#</code><a class="headerlink" href="../8_Tables.1#881-sorted-s" title="Permanent link">&para;</a></h3>
<p>Applying the sorted attribute <code>`s#</code> to a simple list indicates that the items of the list are sorted in ascending order; there is no way to indicate a descending sort. When a list has the sorted attribute, linear search is replaced with binary search, which makes certain operations faster – for example, <em>find</em> <code>?</code>, <em>equality</em> <code>=</code>, <code>in</code> and <code>within</code>.</p>
<p>When an attribute is successfully applied to a list, it becomes part of the list and is displayed on the q console. Observe that q checks to see that the list is actually sorted when the attribute is applied.</p>
<pre><code class="q">q)`s#1 2 4 8
`s#1 2 4 8
q)`s#2 1 3 4
's-fail
</code></pre>

<p>The sort function <code>asc</code> automatically applies the sorted attribute to its result but <code>til</code> does not.</p>
<pre><code class="q">q)asc 2 1 8 4
`s#1 2 4 8
q)til 5
0 1 2 3 4
</code></pre>

<p>When a list with an attribute is amended with <code>,:</code> the result is checked to see that the attribute is preserved; if not, it is removed.</p>
<pre><code class="q">q)L:`s#1 2 3 4 5
q)L,:6
q)L
_
q)L,:0
q)L
_
</code></pre>

<p>One place to apply the sorted attribute is on the date or time column of a simple time series.</p>
<pre><code class="q">q)t:([] ti:`s#00:00:00 00:00:01 00:00:03; v:98 98 100.)
q)meta t
c | t f a
--| -----
ti| v   s
v | f    
</code></pre>

<p>Applying the sorted attribute to a table unintuitively applies the parted attribute (see next section) to the first column.</p>
<pre><code class="q">q)meta `s#([] ti:00:00:00 00:00:01 00:00:03; v:98 98 100.)
c | t f a
--| -----
ti| v   p
v | f    
</code></pre>

<p>Applying the sorted attribute to a dictionary applies the attribute to the key list. Lookup is faster because binary search is used. A side effect of the way binary search is implemented is that the mapping given by the dictionary is now a step function, meaning that values between successive key values are "filled in."</p>
<pre><code class="q">q)d:`s#10 20 30 40 50!`a`b`c`d`e
q)key d
`s#10 20 30 40 50
q)d 10
`a
q)d 12
`a
q)d 15
_
q)d 20
`b
</code></pre>

<p>Since a keyed table is a dictionary of tables, applying the sorted attribute to a keyed table applies to the table of keys that, in turn, applies to the initial key column.</p>
<pre><code class="q">q)meta `s#([k:1 2 3 4] v:`d`c`b`a)
c| t f a
-| -----
k| j   s
v| s    
</code></pre>

<h3 id="882-unique-u">8.8.2 Unique <code>`u#</code><a class="headerlink" href="../8_Tables.1#882-unique-u" title="Permanent link">&para;</a></h3>
<p>Applying the unique attribute <code>`u#</code> to a list indicates that the items of the list are distinct. Knowing that the elements of a list are unique makes <code>distinct</code> the identity function and shortens some operations – i.e., if an operation has found one of what you're looking for, it's done. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Applying <code>`u#</code> essentially causes q to create a hash table, which uses storage and adds overhead. It is best to apply the attribute after the list has been created, if possible. If you have a column that will always have unique values and your large table does not change often, you can get a significant performance speedup with <code>`u#</code>.</p>
</div>
<p>Observe that uniqueness is checked. Don't take the error message personally.</p>
<pre><code class="q">q)`u#2 1 4 8
`u#2 1 4 8
q)`u#2 1 4 8 2
'u-fail
</code></pre>

<p>An amend that does not preserve uniqueness causes the attribute to be lost.</p>
<pre><code class="q">q)L:`u#2 1 4 8
q)L,:3
q)L
_
q)L,:2
q)L
2 1 4 8 3 2
</code></pre>

<p>The unique attribute can be applied to the domain of a dictionary, a column of a table, or the key column of a keyed table. It cannot be applied to a dictionary, a table or a keyed table directly.</p>
<h3 id="883-parted-p">8.8.3 Parted <code>`p#</code><a class="headerlink" href="../8_Tables.1#883-parted-p" title="Permanent link">&para;</a></h3>
<p>The parted attribute <code>`p#</code> indicates that all common occurrences of any value in a list are adjacent. Viewing the list as a map, the parted attribute says that its graph is a step function with distinct steps. The parted attribute can be applied to a simple list of any type whose underlying value is integral – e.g., the integer types, dates, times, timestamps, timespans. You can also apply parted on a list of enumerated symbols since the underlying index values are integral.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The parted attribute causes q to create an underlying structure that keeps track of the steps. Because the attribute is not preserved under most operations you should apply it only after the list is fully created. One exception is that when two lists have <code>`p#</code> and their values are disjoint, the attribute will be preserved when the lists are joined with <code>,</code>.</p>
</div>
<p>Here is a simple example of a parted list. Notice that the items are neither sorted nor unique.</p>
<pre><code class="q">q)`p#2 2 2 1 1 4 4 4 4 3 3
`p#2 2 2 1 1 4 4 4 4 3 3
</code></pre>

<p>Notice that the rather nasty error does not say <code>'p-fail</code>; rather it contains a <code>'u-fail</code> error.</p>
<pre><code class="q">q)`p#2 2 2 1 1 4 4 4 4 3 3 2
k){$[3=x;(`#y;`u#y i;(i:&amp;~=':y),#y);(y;`u#!r;+\0,#:'x;,/x:. r:=y)]}
'u-fail
#
`u
2 1 4 3 2
q.o))
</code></pre>

<p>With the exception in the note above, the parted attribute is <strong>not</strong> preserved under any operation on the list, even if the operation preserves the property.</p>
<pre><code class="q">q)L:`p#1 1 2 3 3
q)L
_
q)L,:3
q)L
1 1 2 3 3 3
</code></pre>

<p>Historical time-series databases for ticker symbols are usually sorted by time within symbol with the parted attribute applied to the (enumerated) symbol column. This makes queries by ticker fast and guarantees that results for a given symbol are returned in time order.</p>
<h3 id="884-grouped-g">8.8.4 Grouped <code>`g#</code><a class="headerlink" href="../8_Tables.1#884-grouped-g" title="Permanent link">&para;</a></h3>
<p>The grouped attribute <code>`g#</code> differs from other attributes in that it can be applied to any list. It causes q to create and maintain an index – essentially a hash table. Grouped can be applied to a list when no other assumptions about its structure can be made.</p>
<p>For example,</p>
<pre><code class="q">q)`g#1 2 3 2 3 4 3 4 5 2 3 4 5 4 3 5 6
_
q)L:`g#100?100
q)L
_
q)L,:1 1 1 1
q)L
_
</code></pre>

<p>The grouped attribute is maintained as operations are performed on the list, which can cause significant processing overhead in addition to the storage required. Best to apply it after the entire list has been created, if possible.</p>
<p>Applying the grouped attribute to a table column roughly corresponds to placing an index on a column in an RDBMS. As of this writing (Sep 2015), in q3.2 the maximum number of grouped attributes that can be placed on a single table is unlimited.</p>
<h3 id="885-remove-attribute">8.8.5 Remove Attribute <code>`#</code><a class="headerlink" href="../8_Tables.1#885-remove-attribute" title="Permanent link">&para;</a></h3>
<p>The operations <code>`#</code> removes any attribute that may currently be applied. For example,</p>
<pre><code class="q">q)L:`s#til 10
q)L
_
q)`#L
_
</code></pre>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../7_Transforming_Data/index.html" title="7. Transforming Data" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                7. Transforming Data
              </span>
            </div>
          </a>
        
        
          <a href="../9_Queries_q-sql.1" title="9. Queries – q-sql" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                9. Queries – q-sql
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            ©2015 Jeffry A. Borror / q4m LLC. Kx® and kdb+ are registered trademarks of Kx Systems, Inc., a subsidiary of First Derivatives plc.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.b438e6c5.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:".."}})</script>
      
        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
      
        <script src="https://tracker.mrpfd.com/tracker.js"></script>
      
        <script src="http://code.kx.com/scripts/googleanalytics.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="https://use.fontawesome.com/3dbf29ed12.js"></script>
      
        <script src="http://code.kx.com/scripts/prism.js"></script>
      
    
    
      
    
  </body>
</html>